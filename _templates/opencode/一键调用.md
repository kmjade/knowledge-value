---
tags:
  - opencode
  - ollama
  - local-ai
  - prompt
  - request
  - ai-assistant
created: <% tp.file.creation_date() %>
---

# OpenCode ä¸€é”®è°ƒç”¨ / One-Click OpenCode Call

> [!info] ä½¿ç”¨è¯´æ˜
> æ­¤æ¨¡æ¿å®ç°ä» Obsidian ç›´æ¥è°ƒç”¨ OpenCode æœ¬åœ°æ¨¡å‹ï¼Œæ— éœ€æ‰‹åŠ¨å¤åˆ¶å‘½ä»¤åˆ°ç»ˆç«¯ã€‚

# æª”æ¡ˆ

# æª”æ¡ˆ
> - **è·¯å¾„**: `<% tp.file.path %>`
> - **æ ‡é¢˜**: `<% tp.file.title %>`
# å‰µå»º

<%*
# æª”æ¡ˆ
const ctx = await tp.user.getFileContext(tp);

if (ctx) {
-%>

### ğŸ“Š å†…å®¹ç»Ÿè®¡
| æŒ‡æ ‡ | å€¼ |
|------|-----|
| **å­—ç¬¦æ•°** | `<% ctx.charCount %>` |
| **æ®µè½æ•°** | `<% ctx.content.split('\n\n').length %>` |
# é€£çµ
# æ¨™ç±¤

<%
} else {
-%>
# æª”æ¡ˆ

<%
}
-%>

---

## ğŸ¤– æ‰§è¡Œ OpenCode

<%*
// è°ƒç”¨ä¸€é”®æ‰§è¡Œå‡½æ•°
const result = await tp.user.oneClickExecute(tp);
-%>

<% result %>

---

## ğŸ“ åç»­æ“ä½œ

> [!tip] å®Œæˆåæ“ä½œ
>
# è¼¸å‡º
> - [ ] å¦‚éœ€è¦ï¼Œé‡æ–°è¿è¡Œå¹¶è°ƒæ•´å‚æ•°
# ç­†è¨˜
# è¨˜éŒ„

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| Ollama æœåŠ¡ä¸å¯ç”¨ | Ollama æœªå¯åŠ¨ | è¿è¡Œ `ollama serve` |
# ç³»çµ±
# ä¸‹è¼‰
# è¼¸å‡º
| æ‰§è¡Œè¶…æ—¶ | ä»»åŠ¡å¤ªå¤æ‚æˆ–æ¨¡å‹å¤ªå¤§ | å¢åŠ  timeout æˆ–ä½¿ç”¨æ›´å°æ¨¡å‹ |

# é™¤éŒ¯

<details>
# æŸ¥çœ‹

```bash
# æ£€æŸ¥ Ollama æœåŠ¡çŠ¶æ€
curl http://localhost:11434/api/tags

# æ£€æŸ¥å¯ç”¨æ¨¡å‹
ollama list

# æ¸¬è©¦
opencode --version

# æ¸¬è©¦
# æ¸¬è©¦
```

</details>

---

## ğŸ“š å¿«æ·å‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹
ollama list

# ä¸‹è¼‰
ollama pull qwen2.5:7b
ollama pull qwen2.5-coder:7b

# æŸ¥çœ‹
ollama show qwen2.5:7b

# é‡å¯ Ollama æœåŠ¡
pkill ollama && ollama serve &

# æŸ¥çœ‹
opencode --help
```

---

*æœ¬æ¨¡æ¿ç”± OpenCode æœ¬åœ°æ¨¡å‹é›†æˆè®¡åˆ’ç”Ÿæˆ / Generated by OpenCode Local Integration Plan*
