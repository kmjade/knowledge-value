---
title: OSI七层模型
aliases:
  - Open Systems Interconnection
  - OSI模型
para: resource
tags:
  - 基础知识
  - OSI
  - 协议栈
  - 计算机网络
created: 2026-01-21
---

> [!summary] OSI模型概述
> OSI (Open Systems Interconnection) 七层模型是国际标准化组织(ISO)提出的网络通信参考模型，将网络通信过程分为七个层次，每层提供特定的服务。

---

## 📊 七层模型架构

```
┌─────────────────────────────────────────────────────────┐
│  7. 应用层 (Application Layer)                           │
│     HTTP, FTP, SMTP, DNS, Telnet                         │
├─────────────────────────────────────────────────────────┤
│  6. 表示层 (Presentation Layer)                          │
│     数据格式化、加密/解密、压缩                           │
├─────────────────────────────────────────────────────────┤
│  5. 会话层 (Session Layer)                               │
│     会话建立、维护、终止                                 │
├─────────────────────────────────────────────────────────┤
│  4. 传输层 (Transport Layer)                            │
│     TCP, UDP - 端到端通信                                │
├─────────────────────────────────────────────────────────┤
│  3. 网络层 (Network Layer)                              │
│     IP, ICMP, ARP - 路径选择与寻址                       │
├─────────────────────────────────────────────────────────┤
│  2. 数据链路层 (Data Link Layer)                        │
│     Ethernet, MAC, VLAN - 帧传输                         │
├─────────────────────────────────────────────────────────┤
│  1. 物理层 (Physical Layer)                             │
│     光纤、双绞线、电信号传输                             │
└─────────────────────────────────────────────────────────┘
```

---

## 🔍 各层详解

### 7️⃣ 应用层 (Application Layer)

**功能**：为应用程序提供网络服务接口

**职责**：
- 提供用户接口
- 处理应用级协议
- 用户身份验证

**常见协议**：
| 协议 | 全称 | 用途 |
|------|------|------|
| HTTP | HyperText Transfer Protocol | Web 浏览 |
| HTTPS | HTTP Secure | 安全 Web 浏览 |
| FTP | File Transfer Protocol | 文件传输 |
| SMTP | Simple Mail Transfer Protocol | 邮件发送 |
| POP3 | Post Office Protocol v3 | 邮件接收 |
| DNS | Domain Name System | 域名解析 |
| SSH | Secure Shell | 远程登录 |
| Telnet | Telecommunication Network | 远程登录(不安全) |

---

### 6️⃣ 表示层 (Presentation Layer)

**功能**：处理数据的表示、格式化和编码

**职责**：
- 数据格式转换 (ASCII, EBCDIC, Unicode)
- 数据加密/解密
- 数据压缩/解压
- 语法转换

**常见协议/标准**：
- SSL/TLS - 安全传输层
- JPEG, GIF, PNG - 图像格式
- ASCII, Unicode - 字符编码
- MPEG, MP3 - 多媒体编码

---

### 5️⃣ 会话层 (Session Layer)

**功能**：管理应用程序之间的会话

**职责**：
- 会话的建立、维护和终止
- 会话同步
- 会话恢复和断点续传

**常见协议**：
- RPC (Remote Procedure Call)
- NetBIOS
- SMB (Server Message Block)

---

### 4️⃣ 传输层 (Transport Layer)

**功能**：提供端到端的数据传输服务

**职责**：
- 分段和重组
- 流量控制
- 错误控制
- 拥塞控制
- 端口寻址

**常见协议**：
| 协议 | 特点 | 适用场景 |
|------|------|----------|
| TCP | 面向连接、可靠传输 | Web浏览、邮件、文件传输 |
| UDP | 无连接、不可靠、快速 | 视频流、在线游戏、DNS |

详见：[[TCP协议深入]], [[UDP协议]]

---

### 3️⃣ 网络层 (Network Layer)

**功能**：负责数据包的路由选择和寻址

**职责**：
- 逻辑寻址 (IP地址)
- 路径选择 (路由)
- 分片与重组
- 流量控制

**常见协议**：
- IP (Internet Protocol) - 网际协议
- ICMP (Internet Control Message Protocol) - 网络控制消息
- ARP (Address Resolution Protocol) - 地址解析协议
- RARP (Reverse ARP) - 反向地址解析
- 路由协议：RIP, OSPF, BGP, EIGRP

详见：[[IP协议与路由]]

---

### 2️⃣ 数据链路层 (Data Link Layer)

**功能**：提供节点到节点的数据传输

**职责**：
- 物理寻址 (MAC地址)
- 帧同步
- 差错检测
- 流量控制
- 访问控制

**常见协议**：
- Ethernet (以太网)
- PPP (Point-to-Point Protocol)
- HDLC (High-Level Data Link Control)
- 帧中继 (Frame Relay)
- ATM (Asynchronous Transfer Mode)

详见：[[Ethernet]], [[MAC地址]], [[VLAN]]

---

### 1️⃣ 物理层 (Physical Layer)

**功能**：负责比特流在物理介质上的传输

**职责**：
- 物理连接建立、维护、释放
- 数据的物理传输
- 机械特性、电气特性、功能特性
- 比特同步

**常见技术**：
- 传输介质：
  - 双绞线 (Cat5e, Cat6, Cat7)
  - 光纤 (单模/多模)
  - 同轴电缆
  - 无线电波
- 接口标准：
  - RJ45 (以太网)
  - SC/ST (光纤)
  - USB, HDMI, VGA

---

## 🔄 数据封装与解封装

### 封装过程 (发送方)

```
应用数据
    ↓ 添加应用层头部
应用层 + 应用数据
    ↓ 添加表示层头部
表示层 + 应用层 + 应用数据
    ↓ 添加会话层头部
会话层 + 表示层 + 应用层 + 应用数据
    ↓ 添加传输层头部 (TCP/UDP)
传输层段 + 会话层 + 表示层 + 应用层 + 应用数据
    ↓ 添加网络层头部 (IP)
网络层数据包 + 传输层段 + ...
    ↓ 添加数据链路层头部 + 尾部 (MAC, FCS)
数据链路层帧 + 网络层数据包 + ...
    ↓ 转换为比特流
物理层比特流
```

### 解封装过程 (接收方)

过程相反，从物理层向上逐层处理。

---

## 🔗 OSI vs TCP/IP 模型对比

```
OSI 七层模型            TCP/IP 四层模型
┌───────────────┐      ┌───────────────┐
│ 应用层        │      │               │
│ 表示层        │      │   应用层      │
│ 会话层        │      │               │
├───────────────┤      ├───────────────┤
│ 传输层        │  ←→  │   传输层      │
├───────────────┤      ├───────────────┤
│ 网络层        │  ←→  │   网际层      │
├───────────────┤      │               │
│ 数据链路层    │      │   网络接口层  │
│ 物理层        │      │               │
└───────────────┘      └───────────────┘
```

| 特性 | OSI 模型 | TCP/IP 模型 |
|------|----------|-------------|
| 层次 | 7 层 | 4 层 |
| 理论/实践 | 理论模型 | 实际使用 |
| 国际标准 | ISO 提出 | IETF 开发 |
| 实现复杂度 | 较高 | 较低 |

详见：[[TCP/IP协议栈]]

---

## 💡 学习要点

### 理解重点
1. **每一层的核心职责**
2. **常见的协议属于哪一层**
3. **数据如何层层封装**
4. **PDU (Protocol Data Unit) 的命名**：
   - 应用/表示/会话层：数据 (Data)
   - 传输层：段 (Segment)
   - 网络层：包/数据报 (Packet/Datagram)
   - 数据链路层：帧 (Frame)
   - 物理层：比特 (Bit)

### 记忆技巧
- **从下往上**：**P**lease **D**o **N**ot **T**hrow **S**ausage **P**izza **A**way
  - Physical, Data Link, Network, Transport, Session, Presentation, Application
- **从上往下**：**A**ll **P**eople **S**eem **T**o **N**eed **D**ata **P**rocessing

---

## 🎯 常见问题

### Q1: 为什么需要分层模型？
**A**:
- 模块化设计，降低复杂度
- 便于标准化
- 促进互操作性
- 便于学习和理解

### Q2: OSI 模型只是理论吗？
**A**: OSI 模型主要作为参考标准，实际网络主要使用 TCP/IP 模型，但 OSI 模型的分层思想仍被广泛采用。

### Q3: 同一台设备是否需要完整的七层？
**A**: 不一定。例如：
- 路由器只涉及网络层及以下
- 交换机只涉及数据链路层及以下
- 网关可能涉及多层

---

## 🛠️ 实践建议

1. **抓包观察**：使用 Wireshark 抓取数据包，观察各层协议头
2. **绘制流程图**：画出数据在七层中的传递过程
3. **协议分类**：列出常见协议，判断其所属层次
4. **故障定位**：根据 OSI 模型分层排查网络故障

---

## 🔗 相关链接

- 🔙 [[01-基础知识|返回基础知识]]
- 📖 [[TCP/IP协议栈]]
- 🛠️ [[06-实践工具]]

---

最后更新：2026-01-21
