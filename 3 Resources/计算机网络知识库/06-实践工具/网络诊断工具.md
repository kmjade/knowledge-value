---
title: ç½‘ç»œè¯Šæ–­å·¥å…·
aliases:
  - Network Diagnostic Tools
  - ç½‘ç»œå·¥å…·
para: resource
tags:
  - å®è·µå·¥å…·
  - è¯Šæ–­å·¥å…·
  - å‘½ä»¤è¡Œ
  - è®¡ç®—æœºç½‘ç»œ
created: 2026-01-21
---

> [!summary] ç½‘ç»œè¯Šæ–­å·¥å…·æ¦‚è¿°
> æœ¬æ¨¡å—ä»‹ç»å¸¸ç”¨çš„ç½‘ç»œè¯Šæ–­å·¥å…·ï¼Œå¸®åŠ©ä½ å¿«é€Ÿæ’æŸ¥ç½‘ç»œé—®é¢˜ã€‚

---

## ğŸ“‹ ç›®å½•

- [ping](#ping)
- [traceroute/tracert](#traceroutetracert)
- [nslookup/dig](#nslookupdig)
- [netstat/ss](#netstatss)
- [ifconfig/ip](#ifconfigip)
- [arp](#arp)
- [route](#route)

---

## ğŸ“ ping

### åŠŸèƒ½

æµ‹è¯•ç½‘ç»œè¿é€šæ€§å’Œå»¶è¿Ÿã€‚

### åŸºæœ¬ç”¨æ³•

```bash
ping ç›®æ ‡ä¸»æœº
```

### å¸¸ç”¨å‚æ•°

| å‚æ•° | è¯´æ˜ |
|------|------|
| -c | å‘é€åŒ…çš„æ•°é‡ |
| -i | å‘é€é—´éš”ï¼ˆç§’ï¼‰ |
| -s | åŒ…å¤§å° |
| -t | æŒç»­pingï¼ˆWindowsï¼‰ |
| -4/-6 | å¼ºåˆ¶ä½¿ç”¨IPv4/IPv6 |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# åŸºæœ¬æµ‹è¯•
ping www.baidu.com

# å‘é€4ä¸ªåŒ…
ping -c 4 www.baidu.com

# æŒ‡å®šåŒ…å¤§å°
ping -s 1024 www.baidu.com

# WindowsæŒç»­ping
ping -t www.baidu.com
```

### è¾“å‡ºè§£æ

```
64 bytes from 110.242.68.66: icmp_seq=1 ttl=54 time=12.3 ms
â”‚     â”‚    â”‚                 â”‚      â”‚      â”‚    â”‚
â”‚     â”‚    â”‚                 â”‚      â”‚      â”‚    â””â”€ å“åº”æ—¶é—´ï¼ˆå»¶è¿Ÿï¼‰
â”‚     â”‚    â”‚                 â”‚      â”‚      â””â”€â”€â”€â”€â”€ TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰
â”‚     â”‚    â”‚                 â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åºåˆ—å·
â”‚     â”‚    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ”¶åˆ°çš„å­—èŠ‚æ•°
â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æºIPåœ°å€
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ICMPå›å¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ•°æ®åŒ…å¤§å°
```

### æ•…éšœåˆ¤æ–­

| ç°è±¡ | å¯èƒ½åŸå›  |
|------|----------|
| `Request timeout` | ç›®æ ‡ä¸å¯è¾¾æˆ–é˜²ç«å¢™é˜»æ­¢ |
| `Destination host unreachable` | ç½‘ç»œä¸å¯è¾¾ |
| `TTL expired` | è·¯ç”±å¾ªç¯ |
| å»¶è¿Ÿå¾ˆé«˜ | ç½‘ç»œæ‹¥å¡æˆ–è·¯å¾„è¿‡é•¿ |

---

## ğŸ—ºï¸ traceroute / tracert

### åŠŸèƒ½

è¿½è¸ªæ•°æ®åŒ…ä»æºåˆ°ç›®çš„åœ°çš„è·¯å¾„ï¼Œæ˜¾ç¤ºç»è¿‡çš„è·¯ç”±å™¨ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
# Linux/Mac
traceroute ç›®æ ‡ä¸»æœº

# Windows
tracert ç›®æ ‡ä¸»æœº
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
traceroute www.google.com
tracert www.google.com
```

### è¾“å‡ºç¤ºä¾‹

```
traceroute to www.google.com (142.250.185.36), 30 hops max, 60 byte packets
 1  192.168.1.1 (192.168.1.1)  1.234 ms  1.112 ms  1.089 ms
 2  10.0.0.1 (10.0.0.1)  12.345 ms  12.234 ms  12.123 ms
 3  202.96.128.86 (202.96.128.86)  15.678 ms  15.567 ms  15.456 ms
...
```

### å·¥ä½œåŸç†

1. å‘é€TTL=1çš„åŒ…ï¼Œç¬¬ä¸€è·³è·¯ç”±å™¨è¿”å›è¶…æ—¶
2. å‘é€TTL=2çš„åŒ…ï¼Œç¬¬äºŒè·³è·¯ç”±å™¨è¿”å›è¶…æ—¶
3. é€æ­¥å¢åŠ TTLï¼Œç›´åˆ°åˆ°è¾¾ç›®çš„åœ°

---

## ğŸ” nslookup / dig

### åŠŸèƒ½

DNSæŸ¥è¯¢å·¥å…·ï¼Œç”¨äºåŸŸåè§£æã€‚

### nslookupï¼ˆWindowsé€šç”¨ï¼‰

```bash
# åŸºæœ¬æŸ¥è¯¢
nslookup www.baidu.com

# æŸ¥è¯¢ç‰¹å®šç±»å‹è®°å½•
nslookup -type=MX baidu.com  # é‚®ä»¶äº¤æ¢è®°å½•
nslookup -type=NS baidu.com  # åç§°æœåŠ¡å™¨è®°å½•

# æŒ‡å®šDNSæœåŠ¡å™¨
nslookup www.baidu.com 8.8.8.8
```

### digï¼ˆLinux/Macï¼ŒåŠŸèƒ½æ›´å¼ºï¼‰

```bash
# åŸºæœ¬æŸ¥è¯¢
dig www.baidu.com

# ç®€æ´è¾“å‡º
dig +short www.baidu.com

# æŸ¥è¯¢ç‰¹å®šç±»å‹
dig MX baidu.com
dig NS baidu.com
dig TXT baidu.com

# è¿½è¸ªDNSè§£æè¿‡ç¨‹
dig +trace www.baidu.com

# åå‘æŸ¥è¯¢ï¼ˆIP â†’ åŸŸåï¼‰
dig -x 8.8.8.8
```

### è¾“å‡ºè§£æ

```
; <<>> DiG 9.10.6 <<>> www.baidu.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 12345
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; QUESTION SECTION:
;www.baidu.com.                 IN      A

;; ANSWER SECTION:
www.baidu.com.          5       IN      A       110.242.68.4

;; Query time: 12 msec
;; SERVER: 192.168.1.1#53(192.168.1.1)
;; WHEN: Tue Jan 21 14:00:00 CST 2026
;; MSG SIZE  rcvd: 56
```

---

## ğŸ“Š netstat / ss

### åŠŸèƒ½

æ˜¾ç¤ºç½‘ç»œè¿æ¥ã€ç«¯å£çŠ¶æ€ã€è·¯ç”±è¡¨ç­‰ä¿¡æ¯ã€‚

### netstatï¼ˆä¼ ç»Ÿå·¥å…·ï¼‰

```bash
# æ˜¾ç¤ºæ‰€æœ‰TCPè¿æ¥
netstat -t

# æ˜¾ç¤ºæ‰€æœ‰UDPè¿æ¥
netstat -u

# æ˜¾ç¤ºç›‘å¬ç«¯å£
netstat -l

# æ˜¾ç¤ºæ•°å­—åœ°å€ï¼ˆä¸è§£æåŸŸåï¼‰
netstat -n

# æ˜¾ç¤ºPID/ç¨‹åºå
netstat -p

# ç»„åˆä½¿ç”¨
netstat -tunlp  # å¸¸ç”¨ç»„åˆ
```

### ssï¼ˆç°ä»£å·¥å…·ï¼Œæ›´å¿«é€Ÿï¼‰

```bash
# æ˜¾ç¤ºæ‰€æœ‰TCPè¿æ¥
ss -t

# æ˜¾ç¤ºæ‰€æœ‰UDPè¿æ¥
ss -u

# æ˜¾ç¤ºç›‘å¬ç«¯å£
ss -l

# æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯
ss -p

# æ˜¾ç¤ºæ•°å­—åœ°å€
ss -n

# ç»„åˆä½¿ç”¨
ss -tunlp  # å¸¸ç”¨ç»„åˆ
```

### å¸¸ç”¨ç¤ºä¾‹

```bash
# æŸ¥æ‰¾å ç”¨80ç«¯å£çš„è¿›ç¨‹
netstat -tunlp | grep :80
ss -tunlp | grep :80

# æŸ¥çœ‹æ‰€æœ‰å»ºç«‹çš„è¿æ¥
netstat -tn
ss -tn

# ç»Ÿè®¡è¿æ¥æ•°
netstat -an | awk '/^tcp/ {print $6}' | sort | uniq -c
```

---

## ğŸŒ ifconfig / ip

### åŠŸèƒ½

æŸ¥çœ‹å’Œé…ç½®ç½‘ç»œæ¥å£ã€‚

### ifconfigï¼ˆä¼ ç»Ÿå·¥å…·ï¼ŒLinuxï¼‰

```bash
# æŸ¥çœ‹æ‰€æœ‰æ¥å£
ifconfig

# æŸ¥çœ‹ç‰¹å®šæ¥å£
ifconfig eth0

# é…ç½®IPåœ°å€
sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0

# å¯ç”¨/ç¦ç”¨æ¥å£
sudo ifconfig eth0 up
sudo ifconfig eth0 down
```

### ipï¼ˆç°ä»£å·¥å…·ï¼ŒLinuxï¼‰

```bash
# æŸ¥çœ‹æ‰€æœ‰æ¥å£
ip addr show

# æŸ¥çœ‹ç‰¹å®šæ¥å£
ip addr show eth0

# é…ç½®IPåœ°å€
sudo ip addr add 192.168.1.100/24 dev eth0

# åˆ é™¤IPåœ°å€
sudo ip addr del 192.168.1.100/24 dev eth0

# æŸ¥çœ‹è·¯ç”±è¡¨
ip route show

# æ·»åŠ è·¯ç”±
sudo ip route add default via 192.168.1.1
```

### ipconfigï¼ˆWindowsï¼‰

```bash
# æŸ¥çœ‹åŸºæœ¬é…ç½®
ipconfig

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
ipconfig /all

# åˆ·æ–°DNSç¼“å­˜
ipconfig /flushdns

# é‡Šæ”¾IPåœ°å€
ipconfig /release

# é‡æ–°è·å–IPåœ°å€
ipconfig /renew

# æ˜¾ç¤ºè·¯ç”±è¡¨
route print
```

---

## ğŸ”— arp

### åŠŸèƒ½

æŸ¥çœ‹å’Œç®¡ç†ARPç¼“å­˜è¡¨ï¼ˆIPåœ°å€ â†” MACåœ°å€ï¼‰ã€‚

```bash
# æŸ¥çœ‹ARPè¡¨
arp -a

# æŸ¥çœ‹ç‰¹å®šIPçš„ARPæ¡ç›®
arp -a 192.168.1.1

# æ·»åŠ é™æ€ARPæ¡ç›®
sudo arp -s 192.168.1.1 aa:bb:cc:dd:ee:ff

# åˆ é™¤ARPæ¡ç›®
sudo arp -d 192.168.1.1

# æ¸…ç©ºARPç¼“å­˜
sudo arp -d -a
```

---

## ğŸ›£ï¸ route

### åŠŸèƒ½

æŸ¥çœ‹å’Œé…ç½®è·¯ç”±è¡¨ã€‚

### Linux

```bash
# æŸ¥çœ‹è·¯ç”±è¡¨
route -n

# æ·»åŠ é»˜è®¤ç½‘å…³
sudo route add default gw 192.168.1.1

# æ·»åŠ ç‰¹å®šè·¯ç”±
sudo route add -net 192.168.2.0/24 gw 192.168.1.2

# åˆ é™¤è·¯ç”±
sudo route del default
```

### Windows

```bash
# æŸ¥çœ‹è·¯ç”±è¡¨
route print

# æ·»åŠ è·¯ç”±
route add 192.168.2.0 mask 255.255.255.0 192.168.1.2

# åˆ é™¤è·¯ç”±
route delete 192.168.2.0

# æ·»åŠ æ°¸ä¹…è·¯ç”±
route -p add 192.168.2.0 mask 255.255.255.0 192.168.1.2
```

---

## ğŸ¯ æ•…éšœæ’æŸ¥æµç¨‹

```
1. æ£€æŸ¥æœ¬åœ°è¿æ¥
   ifconfig/ipconfig
   æ£€æŸ¥IPæ˜¯å¦æ­£ç¡®åˆ†é…

2. æµ‹è¯•ç½‘å…³è¿é€šæ€§
   ping ç½‘å…³IP
   ping 192.168.1.1

3. æµ‹è¯•DNSè§£æ
   nslookup www.baidu.com

4. æµ‹è¯•å¤–ç½‘è¿é€šæ€§
   ping 8.8.8.8
   ping www.baidu.com

5. è¿½è¸ªè·¯ç”±
   traceroute www.baidu.com

6. æ£€æŸ¥ç«¯å£å’ŒæœåŠ¡
   netstat/ss

7. æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
   iptables -L (Linux)
   netsh advfirewall (Windows)
```

---

## ğŸ“ å­¦ä¹ æ£€æŸ¥æ¸…å•

- [ ] ç†Ÿç»ƒä½¿ç”¨pingæµ‹è¯•è¿é€šæ€§
- [ ] ä¼šä½¿ç”¨tracerouteè¿½è¸ªè·¯ç”±
- [ ] èƒ½ç”¨nslookup/digæŸ¥è¯¢DNS
- [ ] æŒæ¡netstat/ssæŸ¥çœ‹è¿æ¥
- [ ] äº†è§£ifconfig/ipé…ç½®ç½‘ç»œ
- [ ] çŸ¥é“ARPè¡¨çš„ä½œç”¨

---

## ğŸ”— ç›¸å…³é“¾æ¥

- ğŸ”™ [[06-å®è·µå·¥å…·|è¿”å›å®è·µå·¥å…·]]
- ğŸ“¦ [[æŠ“åŒ…åˆ†æå·¥å…·]]

---

æœ€åæ›´æ–°ï¼š2026-01-21
