---
title: 局域网(LAN)
aliases:
  - Local Area Network
  - 以太网
  - LAN
para: resource
tags:
  - 网络架构
  - LAN
  - 局域网
  - 计算机网络
created: 2026-01-21
---

> [!summary] 局域网概述
> LAN (Local Area Network) 是在有限地理范围内（如办公室、校园、建筑物）连接计算机的网络。

---

## 🏢 LAN基础

### 定义

局域网是在较小的地理范围内（通常是几米到几公里）连接计算机、打印机、服务器等设备的网络。

### 特点

| 特性 | 说明 |
|------|------|
| 地理范围 | 小（房间、楼宇、校园） |
| 传输速率 | 高（10Mbps - 100Gbps） |
| 误码率 | 低 |
| 介质 | 双绞线、光纤、无线 |
| 拓扑结构 | 星型（最常见） |

### 应用场景

- 家庭网络
- 办公室网络
- 校园网络
- 工厂网络
- 数据中心内部网络

---

## 🔌 以太网标准

### 以太网速度

| 标准 | 速度 | 介质 | 最大距离 |
|------|------|------|----------|
| 10Base5 | 10 Mbps | 粗同轴电缆 | 500m |
| 10Base2 | 10 Mbps | 细同轴电缆 | 185m |
| 10BaseT | 10 Mbps | 双绞线（Cat3） | 100m |
| 100BaseT | 100 Mbps | 双绞线（Cat5） | 100m |
| 1000BaseT | 1 Gbps | 双绞线（Cat5e） | 100m |
| 10GBaseT | 10 Gbps | 双绞线（Cat6a） | 100m |
| 1000BaseSX | 1 Gbps | 光纤（多模） | 550m |
| 1000BaseLX | 1 Gbps | 光纤（单模） | 5km |
| 10GBaseSR | 10 Gbps | 光纤（多模） | 300m |
| 10GBaseLR | 10 Gbps | 光纤（单模） | 10km |

### 双绞线分类

| 类别 | 频率 | 应用 |
|------|------|------|
| Cat3 | 16 MHz | 10BaseT（已淘汰） |
| Cat5 | 100 MHz | 100BaseT |
| Cat5e | 100 MHz | 1000BaseT |
| Cat6 | 250 MHz | 10GBaseT（短距离） |
| Cat6a | 500 MHz | 10GBaseT（100m） |
| Cat7 | 600 MHz | 10GBaseT+ |
| Cat8 | 2000 MHz | 25G/40GBaseT |

---

## 🏗️ LAN拓扑设计

### 小型办公室网络

```
                     [路由器]
                        │
              ┌─────────┴─────────┐
              │    [核心交换机]   │
              └─────────┬─────────┘
                        │
        ┌───┬───┬───┬───┴───┬───┬───┐
        │   │   │   │       │   │   │
       PC  PC  PC  PC     打印机  AP  服务器
```

### 中型企业网络

```
                   [出口路由器]
                        │
                 ┌──────┴──────┐
                 │ [防火墙]    │
                 └──────┬──────┘
                        │
                ┌───────┴───────┐
        ┌───────┤ 核心交换机   ├───────┐
        │       └───────┬───────┘       │
   ┌────┴────┐          │          ┌────┴────┐
   │ 汇聚层  │          │          │ 汇聚层  │
   ├─┬─┬─┬─┤          │          ├─┬─┬─┬─┤
   │ │ │ │ │      ┌───┴───┐      │ │ │ │ │
  PC PC PC PC PC   服务器群  PC PC PC PC PC
```

---

## 🔌 交换机

### 工作原理

交换机工作在数据链路层，通过MAC地址表转发数据帧。

### MAC地址表

```
端口        MAC地址            老化时间
Port 1      AA:BB:CC:DD:EE:01  300s
Port 2      AA:BB:CC:DD:EE:02  300s
Port 3      AA:BB:CC:DD:EE:03  300s
```

### 交换机转发

| 情况 | 处理方式 |
|------|----------|
| 目标MAC已知 | 单播到对应端口 |
| 目标MAC未知 | 广播到所有端口（除源端口） |
| 目标MAC为广播/组播 | 广播/组播到所有端口 |
| 目标MAC为交换机本身 | 接收 |

---

## 🏷️ VLAN

### 定义

VLAN (Virtual Local Area Network) 将一个物理LAN划分成多个逻辑LAN。

### 优势

| 优势 | 说明 |
|------|------|
| 安全性 | 隔离广播域 |
| 性能 | 减少广播流量 |
| 灵活性 | 不受物理位置限制 |
| 管理简化 | 易于重组网络 |

### VLAN类型

| 类型 | 说明 |
|------|------|
| 基于端口 | 将端口分配到VLAN |
| 基于MAC | 根据MAC地址分配 |
| 基于协议 | 根据协议类型分配 |
| 基于子网 | 根据IP子网分配 |

### VLAN配置示例

```bash
# 创建VLAN
vlan 10
 name Sales
vlan 20
 name Engineering

# 分配端口到VLAN
interface fastethernet 0/1
 switchport mode access
 switchport access vlan 10

# Trunk端口（承载多个VLAN）
interface fastethernet 0/24
 switchport mode trunk
 switchport trunk allowed vlan 10,20
```

---

## 🔁 冗余设计

### STP (生成树协议)

STP防止二层环路，避免广播风暴。

**STP端口状态**：
1. **Blocking** - 阻塞状态，不转发数据
2. **Listening** - 监听状态，选举根桥
3. **Learning** - 学习状态，学习MAC地址
4. **Forwarding** - 转发状态，正常转发
5. **Disabled** - 禁用状态

**STP变体**：
- **STP** (802.1D) - 传统STP
- **RSTP** (802.1w) - 快速STP
- **MSTP** (802.1s) - 多生成树协议

### VRRP (虚拟路由器冗余协议)

VRRP实现网关冗余，提高网络可靠性。

```
    [VRRP网关：192.168.1.254]
          │
   ┌──────┴──────┐
   │             │
[路由器A]      [路由器B]
(Master)       (Backup)
```

---

## 🎯 LAN设计最佳实践

### 1. 分层设计

```
核心层
  ├─ 高速交换（10Gbps+）
  ├─ 冗余设计
  └─ 最少策略

汇聚层
  ├─ 路由功能
  ├─ 策略实施
  └─ 流量聚合

接入层
  ├─ 用户接入
  ├─ 端口安全
  └─ VLAN划分
```

### 2. 冗余设计

- 双核心交换机
- 双上行链路
- 冗余网关（VRRP/HSRP）
- 冗余电源

### 3. 安全措施

- VLAN隔离
- 端口安全（限制MAC数量）
- DHCP Snooping
- 动态ARP检测
- ACL（访问控制列表）

---

## 📝 学习检查清单

- [ ] 理解LAN的定义和特点
- [ ] 知道常见的以太网标准
- [ ] 了解交换机的工作原理
- [ ] 掌握VLAN的概念和配置
- [ ] 了解STP防止环路
- [ ] 知道LAN设计的最佳实践

---

## 🔗 相关链接

- 🔙 [[03-网络架构|返回网络架构]]
- 🔌 [[VLAN]]
- 🔁 [[STP生成树协议]]

---

最后更新：2026-01-21
