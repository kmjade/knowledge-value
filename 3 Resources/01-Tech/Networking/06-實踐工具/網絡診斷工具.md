---
title: ç¶²è·¯è¯Šæ–­å·¥å…·
aliases:
  - Network Diagnostic Tools
  - ç¶²è·¯å·¥å…·
  - ç½‘ç»œè¯Šæ–­å·¥å…·
para: resource
tags:
  - #para/resource/tech
  - #topic/networking
  - #topic/practical-tools
  - #topic/diagnostic-tools
  - #type/guide
  - #zettel/type/permanent
created: 2026-01-21
---

> [!summary] ç¶²è·¯è¯Šæ–­å·¥å…·æ¦‚è¿°
> æœ¬æ¨¡å—ä»‹ç´¹å¸¸ç”¨çš„ç¶²è·¯è¯Šæ–­å·¥å…·ï¼Œå¸®åŠ©ä½ å¿«é€Ÿæ’æŸ¥ç¶²è·¯å•é¡Œã€‚

---

## ğŸ“‹ ç›®éŒ„

- [ping](#ping)
- [traceroute/tracert](#traceroutetracert)
- [nslookup/dig](#nslookupdig)
- [netstat/ss](#netstatss)
- [ifconfig/ip](#ifconfigip)
- [arp](#arp)
- [route](#route)

---

## ğŸ“ ping

### åŠŸèƒ½

æ¸¬è©¦ç¶²è·¯è¿é€šæ€§å’Œå»¶é²ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
ping ç›®æ¨™ä¸»æœº
```

### å¸¸ç”¨å‚æ•°

| å‚æ•° | èªªæ˜ |
|------|------|
| -c | ç™¼é€åŒ…çš„æ•°é‡ |
| -i | ç™¼é€é—´éš”ï¼ˆç§’ï¼‰ |
| -s | åŒ…å¤§å° |
| -t | æŒçºŒpingï¼ˆWindowsï¼‰ |
| -4/-6 | å¼ºåˆ¶ä½¿ç”¨IPv4/IPv6 |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# åŸºæœ¬æ¸¬è©¦
ping www.baidu.com

# ç™¼é€4ä¸ªåŒ…
ping -c 4 www.baidu.com

# æŒ‡å®šåŒ…å¤§å°
ping -s 1024 www.baidu.com

# WindowsæŒçºŒping
ping -t www.baidu.com
```

### è¼¸å‡ºè§£æ

```
64 bytes from 110.242.68.66: icmp_seq=1 ttl=54 time=12.3 ms
â”‚     â”‚    â”‚                 â”‚      â”‚      â”‚    â”‚
â”‚     â”‚    â”‚                 â”‚      â”‚      â”‚    â””â”€ éŸ¿æ‡‰æ™‚é–“ï¼ˆå»¶é²ï¼‰
â”‚     â”‚    â”‚                 â”‚      â”‚      â””â”€â”€â”€â”€â”€ TTLï¼ˆç”Ÿå­˜æ™‚é–“ï¼‰
â”‚     â”‚    â”‚                 â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åºåˆ—å·
â”‚     â”‚    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ”¶åˆ°çš„å­—èŠ‚æ•°
â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æºIPåœ°å€
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ICMPå›è¦†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ•¸æ“šåŒ…å¤§å°
```

### æ•…éšœåˆ¤æ–·

| ç°è±¡ | å¯èƒ½åŸå›  |
|------|----------|
| `Request timeout` | ç›®æ¨™ä¸å¯è¾¾æˆ–é˜²ç«å¢™é˜»æ­¢ |
| `Destination host unreachable` | ç¶²è·¯ä¸å¯è¾¾ |
| `TTL expired` | è·¯ç”±å¾ªç¯ |
| å»¶é²å¾ˆé«˜ | ç¶²è·¯æ‹¥å¡æˆ–è·¯å¾‘è¿‡é•¿ |

---

## ğŸ—ºï¸ traceroute / tracert

### åŠŸèƒ½

è¿½è¹¤æ•¸æ“šåŒ…å¾æºä¸»æ©Ÿåˆ°ç›®æ¨™ä¸»æ©Ÿæ‰€ç¶“éçš„è·¯ç”±å™¨è·¯å¾‘ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
# Linux/Mac
traceroute ç›®æ¨™ä¸»æœº

# Windows
tracert ç›®æ¨™ä¸»æœº
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
traceroute www.google.com
tracert www.google.com
```

### è¼¸å‡ºç¤ºä¾‹

```
traceroute to www.google.com (142.250.185.36), 30 hops max, 60 byte packets
 1  192.168.1.1 (192.168.1.1)  1.234 ms  1.112 ms  1.089 ms
 2  10.0.0.1 (10.0.0.1)  12.345 ms  12.234 ms  12.123 ms
 3  202.96.128.86 (202.96.128.86)  15.678 ms  15.567 ms  15.456 ms
...
```

### å·¥ä½œåŸç†

1. ç™¼é€TTL=1çš„åŒ…ï¼Œç¬¬ä¸€è·³è·¯ç”±å™¨è¿”å›è¶…æ—¶
2. ç™¼é€TTL=2çš„åŒ…ï¼Œç¬¬äºŒè·³è·¯ç”±å™¨è¿”å›è¶…æ—¶
3. é€æ­¥å¢åŠ TTLï¼Œç›´åˆ°åˆ°è¾¾ç›®çš„åœ°

---

## ğŸ” nslookup / dig

### åŠŸèƒ½

DNSæŸ¥è©¢å·¥å…·ï¼Œç”¨äºç¶²ç¶²åŸŸåç¨±ç¨±è§£æã€‚

### nslookupï¼ˆWindowsé€šç”¨ï¼‰

```bash
# åŸºæœ¬æŸ¥è©¢
nslookup www.baidu.com

# æŸ¥è©¢ç‰¹å®šç±»å‹è¨˜éŒ„
nslookup -type=MX baidu.com  # é›»å­éƒµä»¶äº¤æ¢è¨˜éŒ„
nslookup -type=NS baidu.com  # åç§°ä¼ºæœå™¨è¨˜éŒ„

# æŒ‡å®šDNSä¼ºæœå™¨
nslookup www.baidu.com 8.8.8.8
```

### digï¼ˆLinux/Macï¼ŒåŠŸèƒ½æ›´å¼ºï¼‰

```bash
# åŸºæœ¬æŸ¥è©¢
dig www.baidu.com

# ç®€æ´è¼¸å‡º
dig +short www.baidu.com

# æŸ¥è©¢ç‰¹å®šç±»å‹
dig MX baidu.com
dig NS baidu.com
dig TXT baidu.com

# è¿½è¸ªDNSè§£æéç¨‹
dig +trace www.baidu.com

# åå‘æŸ¥è©¢ï¼ˆIP â†’ ç¶²ç¶²åŸŸåç¨±ç¨±ï¼‰
dig -x 8.8.8.8
```

### è¼¸å‡ºè§£æ

```
; <<>> DiG 9.10.6 <<>> www.baidu.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 12345
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; QUESTION SECTION:
;www.baidu.com.                 IN      A

;; ANSWER SECTION:
www.baidu.com.          5       IN      A       110.242.68.4

;; Query time: 12 msec
;; SERVER: 192.168.1.1#53(192.168.1.1)
;; WHEN: Tue Jan 21 14:00:00 CST 2026
;; MSG SIZE  rcvd: 56
```

---

## ğŸ“Š netstat / ss

### åŠŸèƒ½

é¡¯ç¤ºç¶²è·¯é€£æ¥ã€è·¯ç”±è¡¨ã€æ¥å£çµ±è¨ˆç­‰ç¶²è·¯ç‹€æ…‹è³‡è¨Šã€‚

### netstatï¼ˆä¼ ç»Ÿå·¥å…·ï¼‰

```bash
# é¡¯ç¤ºTCPé€£æ¥
netstat -t

# é¡¯ç¤ºUDPé€£æ¥
netstat -u

# é¡¯ç¤ºç›£è½ç«¯å£
netstat -l

# é¡¯ç¤ºæ•¸å­—åœ°å€ï¼ˆä¸è§£æåç¨±ï¼‰
netstat -n

# é¡¯ç¤ºé€²ç¨‹ID
netstat -p

# ç»„åˆä½¿ç”¨
netstat -tunlp  # å¸¸ç”¨ç»„åˆ
```

### ssï¼ˆç°ä»£å·¥å…·ï¼Œæ›´å¿«é€Ÿï¼‰

```bash
# é¡¯ç¤ºTCPé€£æ¥
ss -t

# é¡¯ç¤ºUDPé€£æ¥
ss -u

# é¡¯ç¤ºç›£è½ç«¯å£
ss -l

# é¡¯ç¤ºé€²ç¨‹è³‡è¨Š
ss -p

# é¡¯ç¤ºæ•¸å­—åœ°å€
ss -n

# ç»„åˆä½¿ç”¨
ss -tunlp  # å¸¸ç”¨ç»„åˆ
```

### å¸¸ç”¨ç¤ºä¾‹

```bash
# å°‹æ‰¾å ç”¨80ç«¯å£çš„è¿›ç¨‹
netstat -tunlp | grep :80
ss -tunlp | grep :80

# æŸ¥çœ‹TCPé€£æ¥ç‹€æ…‹
netstat -tn
ss -tn

# çµ±è¨ˆé€£æ¥æ•°
netstat -an | awk '/^tcp/ {print $6}' | sort | uniq -c
```

---

## ğŸŒ ifconfig / ip

### åŠŸèƒ½

æŸ¥çœ‹å’Œé…ç½®ç¶²è·¯æ¥å£çš„IPåœ°å€ã€å­ç¶²æ©ç¢¼ã€MACåœ°å€ç­‰ã€‚

### ifconfigï¼ˆä¼ ç»Ÿå·¥å…·ï¼ŒLinuxï¼‰

```bash
# æŸ¥çœ‹æ‰€æœ‰ç¶²å¡
ifconfig

# æŸ¥çœ‹æŒ‡å®šç¶²å¡
ifconfig eth0

# é…ç½®IPåœ°å€
sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0

# å¯ç”¨/ç¦ç”¨æ¥å£
sudo ifconfig eth0 up
sudo ifconfig eth0 down
```

### ipï¼ˆç°ä»£å·¥å…·ï¼ŒLinuxï¼‰

```bash
# æŸ¥çœ‹æ‰€æœ‰ç¶²å¡
ip addr show

# æŸ¥çœ‹æŒ‡å®šç¶²å¡
ip addr show eth0

# é…ç½®IPåœ°å€
sudo ip addr add 192.168.1.100/24 dev eth0

# åˆªé™¤IPåœ°å€
sudo ip addr del 192.168.1.100/24 dev eth0

# æŸ¥çœ‹è·¯ç”±è¡¨
ip route show

# æ–°å¢è·¯ç”±
sudo ip route add default via 192.168.1.1
```

### ipconfigï¼ˆWindowsï¼‰

```bash
# æŸ¥çœ‹åŸºæœ¬é…ç½®
ipconfig

# æŸ¥çœ‹è©³ç´°é…ç½®
ipconfig /all

# åˆ·æ–°DNSç¼“å­˜
ipconfig /flushdns

# é‡Šæ”¾IPåœ°å€
ipconfig /release

# é‡æ–°è·å–IPåœ°å€
ipconfig /renew

# é¡¯ç¤ºè·¯ç”±è¡¨
route print
```

---

## ğŸ”— arp

### åŠŸèƒ½

æŸ¥çœ‹å’Œæ“ä½œARPï¼ˆåœ°å€è§£æå”è­°ï¼‰è¡¨ï¼Œç®¡ç†IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„ã€‚

```bash
# æŸ¥çœ‹æ‰€æœ‰ARPè¡¨é …
arp -a

# æŸ¥çœ‹æŒ‡å®šIPçš„ARPè¡¨é …
arp -a 192.168.1.1

# æ–°å¢éœæ…‹ARPæ¢ç›®
sudo arp -s 192.168.1.1 aa:bb:cc:dd:ee:ff

# åˆªé™¤ARPæ¢ç›®
sudo arp -d 192.168.1.1

# æ¸…ç©ºARPç·©å­˜
sudo arp -d -a
```

---

## ğŸ›£ï¸ route

### åŠŸèƒ½

æŸ¥çœ‹å’Œæ“ä½œç³»çµ±çš„è·¯ç”±è¡¨ã€‚

### Linux

```bash
# æŸ¥çœ‹è·¯ç”±è¡¨
route -n

# æ–°å¢é»˜èªç¶²é—œ
sudo route add default gw 192.168.1.1

# æ–°å¢ç‰¹å®šè·¯ç”±
sudo route add -net 192.168.2.0/24 gw 192.168.1.2

# åˆªé™¤è·¯ç”±
sudo route del default
```

### Windows

```bash
# æŸ¥çœ‹è·¯ç”±è¡¨
route print

# æ–°å¢è·¯ç”±
route add 192.168.2.0 mask 255.255.255.0 192.168.1.2

# åˆªé™¤è·¯ç”±
route delete 192.168.2.0

# æ–°å¢æ°¸ä¹…è·¯ç”±
route -p add 192.168.2.0 mask 255.255.255.0 192.168.1.2
```

---

## ğŸ¯ æ•…éšœæ’æŸ¥æµç¨‹

```
1. æª¢æŸ¥æœ¬åœ°é€£æ¥
   ifconfig/ipconfig
   æª¢æŸ¥IPæ˜¯å¦æ­£ç¡®åˆ†é…

2. æ¸¬è©¦ç½‘å…³è¿é€šæ€§
   ping ç½‘å…³IP
   ping 192.168.1.1

3. æ¸¬è©¦DNSè§£æ
   nslookup www.baidu.com

4. æ¸¬è©¦å¤–ç½‘è¿é€šæ€§
   ping 8.8.8.8
   ping www.baidu.com

5. è¿½è¸ªè·¯ç”±
   traceroute www.baidu.com

6. æª¢æŸ¥ç«¯å£å’ŒæœåŠ¡
   netstat/ss

7. æª¢æŸ¥é˜²ç«å¢™è§„åˆ™
   iptables -L (Linux)
   netsh advfirewall (Windows)
```

---

## ğŸ“ å­¸ç¿’æª¢æŸ¥æ¸…å–®

- [ ] ç†Ÿç·´ä½¿ç”¨pingæ¸¬è©¦é€£é€šæ€§
- [ ] æœƒä½¿ç”¨tracerouteè¿½è¹¤è·¯ç”±
- [ ] èƒ½ç”¨nslookup/digæŸ¥è©¢DNS
- [ ] èƒ½ç”¨netstat/ssæŸ¥çœ‹ç«¯å£ç‹€æ…‹
- [ ] æœƒé…ç½®ç¶²è·¯æ¥å£
- [ ] çŸ¥é“ARPè¡¨çš„ä½œç”¨
- [ ] ç†è§£è·¯ç”±è¡¨

---

## ğŸ”— ç›¸é—œé€£çµ

- ğŸ”™ [[06-å¯¦è¸å·¥å…·|è¿”å›å¯¦è¸å·¥å…·]]
- ğŸ“¦ [[å°åŒ…åˆ†æå·¥å…·]]
- ğŸ” [[æ•…éšœæ’æŸ¥]]
