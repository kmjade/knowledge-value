---
title: 雲端計算網絡
aliases:
  - Cloud Network
  - VPC
  - Docker Network
  - Kubernetes Network
  - Service Mesh
para: resource
tags:
  - #para/resource/tech
  - #topic/networking
  - #topic/architecture
  - #topic/architecture/cloud
  - #protocol/vpc
  - #protocol/vpn
  - #protocol/ipsec
  - #layer/application
  - #type/concept
  - #zettel/type/permanent
  - #difficulty/advanced
  - #learning/progress
created: 2026-02-15
updated: 2026-02-15
---

> [!summary] 雲端計算網絡概述
> 雲端計算網絡是雲端環境中的虛擬網絡技術，包括VPC、容器網絡、服務網格等。

---

## 📋 目錄

- [VPC](#vpc)
- [容器網絡](#容器網絡)
- [SDN基礎](#sdn基礎)
- [Service Mesh](#service-mesh)
- [雲端網絡安全](#雲端網絡安全)

---

## ☁️ VPC (Virtual Private Cloud)

### 定義

VPC 是雲端服務商提供的虛擬網絡環境，用戶可以在其中定義和部署資源。

### VPC組件

```
┌─────────────────────────────────────────────┐
│           VPC (10.0.0.0/16)        │
│                                           │
│  ┌────────────────────────────────────┐    │
│  │     Subnet A (10.0.1.0/24)    │    │
│  │                              │    │
│  │  [EC2] [RDS] [ELB]          │    │
│  └────────────────────────────────────┘    │
│                                           │
│  ┌────────────────────────────────────┐    │
│  │     Subnet B (10.0.2.0/24)    │    │
│  │                              │    │
│  │  [EC2] [Lambda]               │    │
│  └────────────────────────────────────┘    │
│                                           │
│  Internet Gateway │ NAT Gateway      │    │
└─────────────────────────────────────────────┘
```

### 子網類型

| 類型 | 說明 | 特點 |
|------|------|------|
| Public Subnet | 可直接訪問網際網 | 有公網IP |
| Private Subnet | 不能直接訪問網際網 | 通過NAT訪問 |

### VPC連接方式

1. **Internet Gateway**：連接到網際網
2. **NAT Gateway**：私有子網訪問網際網
3. **VPN Gateway**：連接到本地網絡
4. **VPC Peering**：VPC之間連接
5. **Direct Connect**：專線連接到本地數據中心

---

## 🐳 容器網絡

### Docker網絡

**網絡驅動**：

| 驅動 | 說明 | 使用場景 |
|------|------|----------|
| Bridge | 默認，創建虛擬網橋 | 單機Docker |
| Host | 共享主機網絡堆疊 | 高性能 |
| Overlay | 跨主機的虛擬網絡 | Swarm, Kubernetes |

```bash
# 創建Bridge網絡
docker network create --driver bridge mynet

# 創建Overlay網絡
docker network create --driver overlay my-overlay-network

# 查看網絡
docker network ls
```

### Kubernetes網絡

**CNI (Container Network Interface)**：

| CNI | 特點 |
|-----|------|
| Calico | 基於BGP，支持網絡策略 |
| Flannel | 基於VXLAN，簡單易用 |
| Cilium | 基於eBPF，高性能 |
| Weave | 加密，易於安裝 |

**Kubernetes網絡概念**：

```
Pod之間通信 → Service → ClusterIP → PodIP
外部訪問 → Service → NodePort/LoadBalancer
```

**Service類型**：
- **ClusterIP**：集群內部訪問
- **NodePort**：通過節點端口訪問
- **LoadBalancer**：雲端負載均衡
- **ExternalName**：映射到外部DNS

---

## 🔮 SDN基礎

### SDN定義

SDN (Software Defined Networking) 是通過軟體控制和編程網絡的架構。

### SDN架構

```
┌─────────────────────────────────────────┐
│         應用程式層            │
├─────────────────────────────────────────┤
│   控制平面 (南向接口)            │
│   (Control Plane)                 │
├─────────────────────────────────────────┤
│   控制器          │
│   (Controller)                    │
├─────────────────────────────────────────┤
│   數據平面 (南向接口)            │
│   (Data Plane)                    │
├─────────────────────────────────────────┤
│   OpenFlow/OVS    │
└─────────────────────────────────────────┘
```

**控制平面**：決定數據包如何轉發
**數據平面**：根據控制平面指令轉發數據包

### SDN優勢

| 優勢 | 說明 |
|------|------|
| 可編程性 | 通過API控制網絡 |
| 集中管理 | 統一管理多個設備 |
| 靈活部署 | 快速部署和更改 |
| 成本降低 | 使用白盒設備 |

### NFV (Network Functions Virtualization)

**定義**：將網絡功能虛擬化為軟體。

**虛擬網絡功能**：
- 虛擬路由器
- 虛擬防火牆
- 虛擬負載均衡
- 虛擬VPN
- 虛擬IPS/IDS

---

## 🔗 Service Mesh

### 定義

Service Mesh 是微服務之間的通信基礎設施，提供服務發現、負載均衡、監控、安全等功能。

### Service Mesh組件

```
┌─────────────────────────────────────────────┐
│           Service A               │
│               │                   │
│         ┌─────┼─────┐           │
│         │     │     │           │
│    [Proxy] [Proxy] [Proxy]     │
└─────────┼─────┼─────┼────────────┘
          │     │     │
          ↓     ↓     ↓
       Service B Service C Service D
```

**Sidecar模式**：每個服務旁邊部署代理

### Service Mesh功能

| 功能 | 說明 |
|------|------|
| 服務發現 | 自動發現服務實例 |
| 負載均衡 | 智能流量分配 |
| 故障注入 | 混沌工程測試 |
| 鏈路追蹤 | 請求路徑可視化 |
| 安全 | mTLS加密、授權 |
| 可觀測性 | 指標、日誌、追蹤

### Service Mesh產品

| 產品 | 特點 |
|------|------|
| Istio | 功能豐富，CNCF畢業 |
| Linkerd | 輕量級，性能優 |
| Consul | 服務發現優，內置Mesh |

---

## 🔐 雲端網絡安全

### 安全組 (Security Group)

**定義**：虛擬防火牆，控制進入和離開流量。

```
安全組規則示例：
進入：Allow TCP 22 from 0.0.0.0/0 (SSH)
進入：Allow TCP 80 from 0.0.0.0/0 (HTTP)
進入：Allow TCP 443 from 0.0.0.0/0 (HTTPS)
進入：Deny All
離開：Allow All
```

### 網絡ACL (Network ACL)

**定義**：子網層級的無狀態防火牆。

| 特性 | 安全組 | ACL |
|------|---------|-----|
| 狀態 | 有狀態追蹤 | 無狀態 |
| 範圍 | 實例級 | 子網級 |
| 優先級 | 有 | 有（編號） |

### 雲端安全最佳實踐

1. **最小權限**：只開放必要的端口
2. **隔離部署**：將不同環境分離
3. **加密通信**：使用TLS/SSL
4. **日誌監控**：記錄所有訪問
5. **定期審計**：審查安全規則

---

## 📝 學習檢查清單

- [ ] 理解VPC的組件和連接方式
- [ ] 掌握Docker網絡驅動和配置
- [ ] 了解Kubernetes網絡和CNI
- [ ] 理解SDN的控制平面和數據平面
- [ ] 了解NFV和虛擬網絡功能
- [ ] 掌握Service Mesh的架構和功能
- [ ] 了解雲端網絡安全機制

---

## 🔗 相關連結

- 🔙 [[03-網絡架構|返回網絡架構]]
- ☁️ [[SDN軟體定義網絡]]
- 🔐 [[網絡安全基礎]]
- 🛠️ [[網絡診斷工具]]
