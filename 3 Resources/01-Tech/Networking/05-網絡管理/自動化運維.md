---
title: è‡ªå‹•åŒ–é‹ç¶­
aliases:
  - Network Automation
  - ç½‘ç»œè‡ªåŠ¨åŒ–è¿ç»´
para: resource
tags:
  - #para/resource/tech
  - #topic/networking
  - #topic/management
  - #topic/management/automation
  - #type/guide
  - #zettel/type/permanent
  - #difficulty/advanced
  - #learning/progress
created: 2026-02-15
updated: 2026-02-15
---

> [!summary] è‡ªå‹•åŒ–é‹ç¶­æ¦‚è¿°
> ç¶²çµ¡è‡ªå‹•åŒ–é‹ç¶­æ˜¯é€šéç·¨ç¨‹å’Œå·¥å…·ï¼Œè‡ªå‹•åŒ–ç¶²çµ¡è¨­å‚™çš„é…ç½®ã€ç›£æ§ã€æ•…éšœè™•ç†å’Œç¶­è­·ï¼Œæé«˜æ•ˆç‡å’Œå¯é æ€§ã€‚

---

## ğŸ“‹ ç›®éŒ„

- [è‡ªå‹•åŒ–æ¶æ§‹](#è‡ªå‹•åŒ–æ¶æ§‹)
- [Ansibleç¶²çµ¡è‡ªå‹•åŒ–](#ansibleç¶²çµ¡è‡ªå‹•åŒ–)
- [Pythonç¶²çµ¡ç·¨ç¨‹](#pythonç¶²çµ¡ç·¨ç¨‹)
- [CI/CDæ•´åˆ](#cicdæ•´åˆ)
- [è‡ªå‹•åŒ–ç›£æ§](#è‡ªå‹•åŒ–ç›£æ§)
- [è‡ªå‹•åŒ–æ•…éšœè™•ç†](#è‡ªå‹•åŒ–æ•…éšœè™•ç†)

---

## ğŸ—ï¸ è‡ªå‹•åŒ–æ¶æ§‹

### è‡ªå‹•åŒ–å±¤æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ‡‰ç”¨ç¨‹å¼å±¤              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç·¨æ’å·¥å…· (Jenkins, GitLab CI)    â”‚
â”‚   â”‚                                 â”‚
â”‚   â”œâ”€ Ansible Playbooks              â”‚
â”‚   â”œâ”€ Pythonè…³æœ¬                    â”‚
â”‚   â”œâ”€ Terraform/CloudFormation        â”‚
â”‚   â””â”€ æ¸¬è©¦æ¡†æ¶                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ç¶²çµ¡è¨­å‚™ (API/CLI)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç¶²çµ¡è¨­å‚™                         â”‚
â”‚   â”œâ”€ è·¯ç”±å™¨                         â”‚
â”‚   â”œâ”€ äº¤æ›æ©Ÿ                         â”‚
â”‚   â”œâ”€ é˜²ç«ç‰†                         â”‚
â”‚   â””â”€ ç„¡ç·šAP                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è‡ªå‹•åŒ–çµ„ä»¶

| çµ„ä»¶ | åŠŸèƒ½ | å·¥å…·ç¤ºä¾‹ |
|------|------|----------|
| é…ç½®ç®¡ç† | è‡ªå‹•éƒ¨ç½²é…ç½® | Ansible, Nornir |
| ç‹€æ…‹ç®¡ç† | ç‰ˆæœ¬æ§åˆ¶ | Git, GitLab |
| ç›£æ§ | è‡ªå‹•ç›£æ§å’Œå‘Šè­¦ | Prometheus, Zabbix |
| æ•…éšœè™•ç† | è‡ªå‹•è¨ºæ–·å’Œä¿®å¾© | è‡ªå‹•åŒ–è…³æœ¬ |
| CI/CD | è‡ªå‹•æ¸¬è©¦å’Œéƒ¨ç½² | Jenkins, GitLab CI |

---

## ğŸ”µ Ansibleç¶²çµ¡è‡ªå‹•åŒ–

### Ansibleæ¶æ§‹

```
Control Machine (Ansibleæ§åˆ¶ç¯€é»)
       â†“ SSH
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Inventory (æ¸…å–®)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [routers]                         â”‚
â”‚   [switches]                        â”‚
â”‚   [firewalls]                       â”‚
â”‚   [waps]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“ Playbooks (åŠ‡æœ¬)
    åŸ·è¡Œç¶²çµ¡ä»»å‹™
```

### Ansible Inventoryç¤ºä¾‹

```ini
# hosts.ini
[routers]
router-01 ansible_host=192.168.1.1
router-02 ansible_host=192.168.1.2

[switches]
switch-01 ansible_host=192.168.1.10
switch-02 ansible_host=192.168.1.11

[firewalls]
fw-01 ansible_host=192.168.1.254

[all:vars]
ansible_user=admin
ansible_ssh_private_key_file=~/.ssh/id_rsa
```

### Ansible Playbookç¤ºä¾‹

```yaml
---
# é…ç½®VLAN
- name: Configure VLANs on switches
  hosts: switches
  gather_facts: no

  tasks:
    - name: Create VLAN 10
      ios_vlan:
        vlan_id: 10
        name: Sales
        state: present

    - name: Assign port to VLAN 10
      ios_l2_interface:
        name: GigabitEthernet0/1
        mode: access
        access_vlan: 10
```

### Ansibleæ¨¡çµ„

| æ¨¡çµ„ | åŠŸèƒ½ | æ”¯æŒå» å•† |
|------|------|----------|
| ios | Cisco IOS | Cisco |
| junos | Junos | Juniper |
| arista_eos | Arista EOS | Arista |
| vyos | VyOS | Vyatta/VyOS |
| netconf | NETCONFå”è­° | é€šç”¨ |

---

## ğŸ Pythonç¶²çµ¡ç·¨ç¨‹

### å¸¸ç”¨åº«

| åº« | åŠŸèƒ½ | å„ªé» |
|------|------|------|
| Netmiko | è¨­å‚™é…ç½®/åŸ·è¡Œå‘½ä»¤ | å» æ³›æ”¯æŒ |
| Paramiko | SSHé€£æ¥ | è¼•é‡ç´š |
| NAPALM | Ciscoé…ç½®å’Œè§£æ | å°ˆé–€æ”¯æŒ |
| PyEZ | é…ç½®ç®¡ç† | ç°¡å–®API |
| Scrapli | è¨­å‚™è‡ªå‹•åŒ– | å¤šå» å•†æ”¯æŒ |

### Pythonç¤ºä¾‹

#### Netmikoç¤ºä¾‹

```python
from netmiko import ConnectHandler

# é€£æ¥åˆ°è¨­å‚™
device = ConnectHandler(
    device_type='cisco_ios',
    host='192.168.1.1',
    username='admin',
    password='password'
)

# åŸ·è¡Œå‘½ä»¤
output = device.send_command('show running-config')
print(output)

# é…ç½®å‘½ä»¤
config_commands = [
    'vlan 10',
    'name Sales',
    'exit',
    'interface GigabitEthernet0/1',
    'switchport mode access',
    'switchport access vlan 10'
]
output = device.send_config_set(config_commands)
print(output)

# é—œé–‰é€£æ¥
device.disconnect()
```

#### NAPALMç¤ºä¾‹

```python
from napalm import get_network_driver

# ç²å–é©…å‹•
driver = get_network_driver('ios')
device = driver(
    hostname='192.168.1.1',
    username='admin',
    password='password'
)

# ç²å–é…ç½®
config = device.get_config()
print(config['running'])

# ç²å–ARPè¡¨
arp_table = device.get_arp_table()
print(arp_table)

# é—œé–‰é€£æ¥
device.close()
```

---

## ğŸ”„ CI/CDæ•´åˆ

### CI/CDæµç¨‹

```
é–‹ç™¼è€…æäº¤ä»£ç¢¼
    â†“
Gitæ¨é€åˆ°å€‰åº«
    â†“
Jenkins/GitLab CIè§¸ç™¼
    â†“
æ‹‰å–ä»£ç¢¼
    â†“
é‹è¡Œæ¸¬è©¦ (å–®å…ƒæ¸¬è©¦, é›†æˆæ¸¬è©¦)
    â†“
æ§‹å»ºéƒ¨ç½²åŒ… (Ansible Playbook)
    â†“
éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ
    â†“
é©—è­‰éƒ¨ç½²
    â†“
éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
    â†“
ç›£æ§å’Œå›æ»¾
```

### GitOpså·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Gitå€‰åº«                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ ansible/                       â”‚
â”‚   â”‚   â”œâ”€â”€ playbooks/              â”‚
â”‚   â”‚   â”œâ”€â”€ roles/                 â”‚
â”‚   â”‚   â””â”€â”€ inventory/              â”‚
â”‚   â”œâ”€â”€ terraform/                     â”‚
â”‚   â””â”€â”€ ç¶²çµ¡é…ç½®/                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“ Git Push/Pull
    â†“ è‡ªå‹•éƒ¨ç½²
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”Ÿç”¢ç’°å¢ƒ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¸¬è©¦ç­–ç•¥

| æ¸¬è©¦é¡å‹ | å·¥å…· | æ™‚æ©Ÿ |
|----------|------|------|
| å–®å…ƒæ¸¬è©¦ | Pytest | æäº¤å‰ |
| é›†æˆæ¸¬è©¦ | Ansible/Pythonè…³æœ¬ | CIéšæ®µ |
| é…ç½®æ¸¬è©¦ | Nornir/Netmiko | æ¨¡æ“¬ç’°å¢ƒ |
| è² è¼‰æ¸¬è©¦ | iperf, hping3 | éƒ¨ç½²å¾Œ |

---

## ğŸ“¡ è‡ªå‹•åŒ–ç›£æ§

### ç›£æ§å³ä»£ç¢¼ (IaC)

```python
# ä½¿ç”¨NAPALMè‡ªå‹•é…ç½®ç›£æ§
from napalm import get_network_driver

driver = get_network_driver('ios')
device = driver(
    hostname='switch-01',
    username='admin',
    password='password'
)

# å•Ÿç”¨SNMP
snmp_commands = [
    'snmp-server enable',
    'snmp-server community public RO',
    'snmp-server location Data Center'
]

device.send_config_set(snmp_commands)
device.close()
```

### Prometheus Exporter

```python
# è‡ªå®šç¾©å°å‡ºå™¨
from prometheus_client import start_http_server

class NetworkCollector:
    def collect(self):
        # æ”¶é›†ç¶²çµ¡æŒ‡æ¨™
        metrics = {
            'interface_traffic': 1000000,
            'interface_errors': 10,
            'cpu_usage': 45
        }
        return metrics

# å•Ÿå‹•HTTPæœå‹™å™¨
start_http_server(8000, NetworkCollector())
```

---

## ğŸ¤– è‡ªå‹•åŒ–æ•…éšœè™•ç†

### æ•…éšœè‡ªå‹•ä¿®å¾©è…³æœ¬

```bash
#!/bin/bash
# è‡ªå‹•æª¢æ¸¬å’Œä¿®å¾©ç¶²çµ¡æ•…éšœ

# æª¢æŸ¥ç¶²é—œå¯é”æ€§
ping -c 3 192.168.1.254
if [ $? -ne 0 ]; then
    echo "Gateway unreachable, restarting interface..."
    # é‡å•Ÿç¶²çµ¡æ¥å£
    ip link set eth0 down
    sleep 2
    ip link set eth0 up
    sleep 2
    # æª¢æŸ¥DHCP
    dhclient eth0
fi

# æª¢æŸ¥DNSè§£æ
nslookup www.google.com > /dev/null 2>&1
if [ $? -ne 0 ]; then
    echo "DNS resolution failed, updating DNS servers..."
    # æ›´æ–°DNSæœå‹™å™¨
    nmcli connection modify "Wired connection 1" ipv4.dns "8.8.8.8 8.8.4.4"
fi

# æª¢æŸ¥é—œéµæœå‹™
for port in 80 443 22; do
    nc -zv localhost $port
    if [ $? -ne 0 ]; then
        echo "Service on port $port is down, restarting..."
        # é‡å•Ÿæœå‹™
        systemctl restart nginx
    fi
done
```

### è‡ªå‹•åŒ–æ—¥èªŒåˆ†æ

```python
import re
import logging

def analyze_logs(log_file):
    """åˆ†ææ—¥èªŒæª¢æ¸¬ç•°å¸¸"""
    error_patterns = [
        r'connection timeout',
        r'authentication failed',
        r'interface down'
    ]

    with open(log_file, 'r') as f:
        for line in f:
            for pattern in error_patterns:
                if re.search(pattern, line):
                    logging.error(f"Error found: {line}")
                    # è§¸ç™¼å‘Šè­¦
                    send_alert(line)
```

---

## ğŸ“ å­¸ç¿’æª¢æŸ¥æ¸…å–®

- [ ] ç†è§£è‡ªå‹•åŒ–é‹ç¶­çš„æ¶æ§‹å’Œçµ„ä»¶
- [ ] æŒæ¡Ansibleçš„åŸºæœ¬ç”¨æ³•å’Œæ¨¡çµ„
- [ ] äº†è§£Pythonç¶²çµ¡ç·¨ç¨‹åº«å’Œç¤ºä¾‹
- [ ] æŒæ¡CI/CDçš„å·¥ä½œæµç¨‹å’ŒGitOps
- [ ] äº†è§£è‡ªå‹•åŒ–ç›£æ§å’ŒIaCçš„æ¦‚å¿µ
- [ ] èƒ½å¤ ç·¨å¯«è‡ªå‹•åŒ–æ•…éšœè™•ç†è…³æœ¬
- [ ] èƒ½å¤ è¨­è¨ˆå’Œå¯¦ç¾è‡ªå‹•åŒ–å·¥ä½œæµç¨‹

---

## ğŸ”— ç›¸é—œé€£çµ

- ğŸ”™ [[05-ç¶²çµ¡ç®¡ç†|è¿”å›ç¶²çµ¡ç®¡ç†]]
- ğŸ“Š [[ç¶²çµ¡ç›£æ§]]
- ğŸ” [[æ•…éšœæ’æŸ¥]]
- ğŸ› ï¸ [[å°åŒ…åˆ†æå·¥å…·]]
