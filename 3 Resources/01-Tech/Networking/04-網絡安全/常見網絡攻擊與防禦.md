---
title: 常見網絡攻擊與防禦
aliases:
  - Common Network Attacks
  - 常见网络攻击与防御
para: resource
tags:
  - #para/resource/tech
  - #topic/networking
  - #topic/security
  - #topic/security/attacks
  - #type/guide
  - #zettel/type/permanent
  - #difficulty/intermediate
  - #learning/review
created: 2026-02-15
updated: 2026-02-15
---

> [!summary] 常見網絡攻擊與防禦概述
> 了解常見的網絡攻擊技術和相應的防禦措施，是構建安全網絡的基礎。

---

## 📋 目錄

- [DoS/DDoS攻擊](#dosddos攻擊)
- [中間人攻擊](#中間人攻擊)
- [ARP欺騙](#arp欺騙)
- [DNS劫持](#dns劫持)
- [端口掃描](#端口掃描)
- [SQL注入和XSS](#sql注入和xss)

---

## 💥 DoS/DDoS攻擊

### 定義

**DoS (Denial of Service)**：拒絕服務攻擊，使目標服務不可用。

**DDoS (Distributed DoS)**：分佈式拒絕服務攻擊，使用多個源同時攻擊。

### DDoS攻擊類型

| 類型 | 說明 | 防禦措施 |
|------|------|----------|
| Volume-based | 帶寬耗盡 | 流量清洗 |
| Protocol-based | 協議漏洞利用 | 協議過濾 |
| Application-based | 應用層攻擊 | WAF |
| HTTP Flood | HTTP請求泛濾 | 速率限制 |

### SYN Flood

**攻擊原理**：
```
攻擊者發送大量SYN包但不完成三次握手
```

**防禦**：
- **SYN Cookie**：伺服器使用編碼的SYN Cookie
- **SYN Proxy**：防火牆代表客戶端完成三次握手
- **速率限制**：限制SYN包接收速率

### ICMP Flood

**攻擊原理**：發送大量ICMP Echo Request（Ping）包。

**防禦**：
- 禁用ICMP回應
- 流量速率限制
- 使用ICMP過濾

### HTTP Flood

**攻擊原理**：發送大量HTTP請求消耗伺服器資源。

**防禦**：
- WAF檢測
- 速率限制
- Challenge-Response（如CAPTCHA）
- CDN分散流量

---

## 🎭 中間人攻擊

### 定義

MITM (Man-in-The-Middle) 是攻擊者攔截並可能修改兩方之間的通信。

### MITM場景

| 場景 | 風險 |
|------|------|
| 公共Wi-Fi | 攻擊者偽造Wi-Fi熱點 |
| ARP欺騙 | 攔截局域網通信 |
| DNS劫持 | 重定向到惡意伺服器 |
| HTTPS降級 | 將HTTPS降級為HTTP |

### MITM防禦

| 措施 | 說明 |
|------|------|
| 使用HTTPS | 加密通信 |
| 證書固定 | 驗證伺服器證書 |
| HSTS (HTTP Strict Transport Security) | 強制使用HTTPS |
| DNSSEC | 驗證DNS查詢結果 |
| VPN | 建立加密隧道 |

---

## 🔀 ARP欺騙

### 攻擊原理

攻擊者發送偽造的ARP響應，將網關MAC映射到攻擊者MAC。

```
正常情況：
192.168.1.1 (網關) → AA:BB:CC:DD:EE:FF

ARP欺騙：
192.168.1.1 → 攻擊者MAC:DD:EE:FF:01
```

### ARP防禦

| 措施 | 說明 |
|------|------|
| 靜態ARP表 | 手動配置IP-MAC映射 |
| DAI (Dynamic ARP Inspection) | 交換機檢查ARP消息 |
| 端口安全 | 限制每端口MAC地址數量 |
| DHCP Snooping | 驗證DHCP請求 |

---

## 🌐 DNS劫持

### 攻擊類型

| 類型 | 說明 | 防禦 |
|------|------|----------|
| 本地劫持 | 修改本地DNS配置 | 鎖定DNS配置 |
| 路由器劫持 | 修改路由器DNS設置 | 路由器密碼保護 |
| 中間人劫持 | 攔截DNS查詢 | DNSSEC |
| DNS投毒 | 緩存DNS服務器投毒 | 使用可信DNS |

### DNSSEC (DNS Security)

**定義**：DNSSEC為DNS添加數字簽名，驗證DNS應答的真實性。

**DNSSEC記錄類型**：
- **RRSIG**：資源記錄簽名
- **DNSKEY**：DNS公鑰
- **DS**：授權機構簽名
- **DNSKEY**：授權機構公鑰

### DNS防禦措施

| 措施 | 說明 |
|------|------|
| DNSSEC | 數字簽名驗證 |
| DoH (DNS over HTTPS) | 加密DNS查詢 |
| DoT (DNS over TLS) | TLS加密DNS查詢 |
| 使用可信DNS | Google DNS (8.8.8.8), Cloudflare (1.1.1.1) |

---

## 🔍 端口掃描

### 掃描工具

| 工具 | 功能 |
|------|------|
| Nmap | 端口掃描、服務識別、操作系統檢測 |
| Masscan | 高速端口掃描 |
| Unicornscan | 多協議掃描 |
| ZMap | 互聯網掃描 |

### Nmap掃描示例

```bash
# 基本端口掃描
nmap target_ip

# 掃描指定端口
nmap -p 22,80,443 target_ip

# 服務版本檢測
nmap -sV target_ip

- 操作系統檢測
nmap -O target_ip

# 腳本掃描（漏洞）
nmap --script vuln target_ip
```

### 掃描防禦

| 措施 | 說明 |
|------|------|
| 關閉不必要端口 | 減少攻擊面 |
| 使用防火牆 | 阻止掃描流量 |
| 入侵檢測系統 (IDS) | 檢測掃描行為 |
| 端口敲詞 | 主動欺騙掃描者 |
- 限制速率 | 限制連接嘗試速率 |

---

## 💻 SQL注入

### 攻擊原理

通過輸入惡意SQL代碼操縱資料庫查詢。

### SQL注入示例

```sql
-- 正常查詢
SELECT * FROM users WHERE username = 'admin';

-- SQL注入
SELECT * FROM users WHERE username = 'admin' OR '1'='1';
-- 結果：永真條件，繞過認證
```

### SQL防禦

| 措施 | 說明 |
|------|------|
| 參數化查詢 | 使用預編譯語句 |
| 輸入驗證 | 驗證和清理輸入 |
| 最小權限 | 限制資料庫賬戶權限 |
| WAF | 應用層檢測 |
- ORM | 使用對象關係映射 |

---

## 🕷️ XSS (Cross-Site Scripting)

### 攻擊原理

通過注入惡意腳本，在用戶瀏覽器中執行。

### XSS類型

| 類型 | 說明 |
|------|------|
| Stored XSS | 惡意腳本存儲在伺服器，加載時執行 |
| Reflected XSS | 惡意腳本通過URL反射回瀏覽器 |
| DOM-based XSS | 惡意腳本操作DOM |

### XSS示例

```javascript
// 存儲型XSS
<script>alert('XSS')</script>

// 反射型XSS
http://example.com/search?q=<script>alert(1)</script>
```

### XSS防禦

| 措施 | 說明 |
|------|------|
| 輸出編碼 | HTML實體編碼、URL編碼 |
| Content Security Policy (CSP) | 限制腳本源 |
- HttpOnly Cookie | 防止JS訪問Cookie |
| 輸入驗證 | 驗證和清理輸入 |
- XSS過濾 | WAF檢測和過濾 |

---

## 🎯 攻擊檢測技術

### IDS (Intrusion Detection System)

| 類型 | 說明 |
|------|------|
| 簽單IDS | 基於特徵碼匹配 |
| 異常檢測IDS | 基於行為分析 |

### IPS (Intrusion Prevention System)

| 類型 | 說明 |
|------|------|
| 簽單IPS | 在線部署，即時攔截 |
- 基於主機IPS | 保護單個主機 |
- 基於網絡IPS | 保護整個網絡 |

### SIEM (Security Information and Event Management)

**定義**：SIEM是綜合的安全信息和事件管理平台。

**功能**：
- 日誌收集和關聯
- 威脅情報集成
- 事件相關和優先級
- 自動化響應

---

## 📝 學習檢查清單

- [ ] 理解DoS/DDoS攻擊的類型和防禦措施
- [ ] 掌握中間人攻擊的原理和防禦方法
- [ ] 了解ARP欺騙和相應防禦技術
- [ ] 理解DNS劫持和DNSSEC的作用
- [ ] 掌握端口掃描工具和防禦措施
- [ ] 了解SQL注入和XSS的原理和防禦
- [ ] 了解IDS/IPS/SIEM的工作原理

---

## 🔗 相關連結

- 🔙 [[04-網絡安全|返回網絡安全]]
- 🔐 [[網絡安全基礎]]
- 🔥 [[防火牆技術]]
- 🔒 [[加密與認證]]
