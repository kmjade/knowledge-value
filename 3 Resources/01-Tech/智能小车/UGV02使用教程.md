---
title: UGV02 使用教程
tags:
  - para/resource/tech
  - 技术/机器人
  - 技术/教程
  - Waveshare
status: active
aliases:
  - UGV02教程
  - 六轮机器人使用指南
  - UGV02配置
cssclasses:
  - resource-note
created: 2026-02-19
---

# UGV02 使用教程

> [!info] 教程概述
> 本教程详细介绍UGV02机器人的基本使用方法、配置步骤和通信方式，帮助用户快速上手并进行二次开发。

## ⚠️ 使用前注意事项

### 必读事项

> [!warning] 电池安全
> 1. 该产品出厂未安装锂电池，需要客户自行安装好3个18650锂电池才可以正常使用
> 2. 海外版的客户需要自行购买3颗18650锂电池
> 3. 推荐使用2200mA或以上容量，放电倍率4C的18650锂电池
> 4. 首次接上电池需注意电池模块上是否有LED灯亮
> 5. 如果LED灯亮则表示电池的正负极接反，电池未接反不会有LED灯亮
> 6. **电池接反的情况下禁止充电，否则有几率引起爆炸**
> 7. 请检查并确保电池未接反

> [!warning] 使用限制
> 1. 该产品不能受到剧烈的撞击
> 2. 产品不防水、不防沙

## 🔧 固件更新

### 检查固件版本

**开机检查**：
1. 打开机器人电源开关
2. 查看OLED屏幕显示
3. 如果显示`UGV Rover Version:0.96`，说明已是新版，无需更新
4. 如果未显示版本号，需要进行更新

**恢复出厂设置**：
- 需要更新固件时也会进行出厂设置

### 更新步骤

#### 1. 准备工作

**硬件要求**：
- USB数据线
- 电脑（Windows/Linux/Mac）
- UGV02机器人

**软件要求**：
- ESP32下载工具

**下载ESP32下载工具**：
1. 访问UGV02产品页面
2. 下载ESP32下载工具压缩包
3. 解压缩到本地目录

#### 2. 连接设备

**连接步骤**：
1. 需要拆开机器人（小心操作）
2. 找到机器人驱动板中间的USB接口
3. 使用USB线连接机器人和电脑
4. 确保连接牢固

#### 3. 运行下载工具

**启动工具**：
1. 双击打开`flash_download_tool_3.9.5.exe`程序
2. 会弹出两个窗口：
   - UI界面：用于操作
   - 终端窗口：显示下载状态

**配置参数**：
```
Chip Type: ESP32
WorkMode: Factory
```

**选择Factory模式的原因**：
- 调用二进制文件时使用相对路径
- 不需要用户手动输入二进制文件路径

#### 4. 配置下载参数

**界面设置**：
1. 保持"LockSettings"的勾选
2. 点击"COM"选择新出现的COM端口（例如COM3）
3. 设置BAUD（波特率）：
   - 推荐值：921600（最快）
   - 如果不稳定可降低到460800或115200

**端口说明**：
- 右侧代表可以同时给8个UGV02上传程序
- 选择正确的COM端口至关重要

#### 5. 开始上传

**上传过程**：
1. 点击START开始上传程序
2. 观察终端窗口的进度信息
3. 等待上传完成
4. 完成后"IDLE 等待"会变成"FINISH 完成"

**完成步骤**：
1. 断开驱动板与电脑的USB连接
2. 重新组装机器人（如已拆卸）
3. 打开机器人产品的开关
4. 通电后即可控制机器人

## 🔋 电池安装

### 安装步骤

#### 1. 拆卸底盘盖

**步骤**：
1. 找到小车底盘的4个黑色金属杯头内六角螺丝M3*6
2. 使用内六角扳手拧下这4个螺丝（见下图红圈处）

```
    ┌─────────────────┐
    │  ●             ●  │  ← 红圈处（4个螺丝）
    │                 │
    │                 │
    │  ●             ●  │
    └─────────────────┘
```

#### 2. 安装电池

**电池规格**：
- 类型：18650锂电池
- 数量：3节
- 连接方式：串联（3S）
- 容量：推荐2200mAh或以上
- 放电倍率：推荐4C

**安装步骤**：
1. 将3节18650锂电池放入至电池模块中
2. 注意电池模块上的正负极标注
3. 检查LED指示灯：
   - 灯亮：表示电池接反，需要重新安装
   - 灯不亮：表示电池安装正确

**正负极标识**：
- 通常有"+"和"-"标记
- 确保所有电池的方向一致
- 按照标注正确安装

#### 3. 固定底盘盖

**步骤**：
1. 放入电池后，用之前拆下的4个螺丝
2. 将底盘盖固定好
3. 确保螺丝拧紧但不过紧
4. 检查盖子是否平整

## ⚡ 首次使用激活

### 激活UPS电源模块

**重要**：电池安装好后首次使用需要先用配套的12.6V 2A充电器插入至机器人的充电接口处激活UPS电源模块，这样小车才有电源输出。

#### 激活步骤

1. **连接充电器**：
   - 使用配套的12.6V 2A充电器
   - 插入机器人的充电接口
   - 确保连接牢固

2. **打开电源开关**：
   - 打开机器人电源开关
   - 等待机器人进行初始化
   - 观察OLED屏幕显示内容

3. **初始化过程**：
   - OLED屏幕会显示初始化的一系列内容
   - 等待初始化完成（约2-3秒）
   - 屏幕会显示正常工作信息

4. **激活完成**：
   - UPS电源模块激活成功
   - 小车现在有电源输出
   - 可以正常使用

### OLED屏幕显示信息

#### 正常显示内容

| 行数 | 显示内容 | 含义 |
|------|----------|------|
| **第一行** | `AP: UGV` | WiFi处于AP模式，热点名为UGV |
| **第二行** | `STA: Off` 或 `STA: 192.168.1.100` | STA模式状态，连接路由器后显示IP地址 |
| **第三行** | `UGV Rover` | 六轮四驱系列统称型号 |
| **第四行** | `U 12.5V s 20` | 电源电压和型号配置 |

#### 详细说明

**第一行**：
- `AP: UGV` - WiFi处于AP模式
- 机器人创建了一个热点
- WiFi热点名为UGV

**第二行**：
- `STA: Off` - STA模式关闭（默认）
- `STA: 192.168.1.100` - 连接路由器后显示分配的IP地址

**第三行**：
- `UGV Rover` - 六轮四驱系列的统称型号

**第四行**：
- `U 12.5V` - 机器人产品的电源电压
- `s 20` - 型号配置：
  - `s` - 机器人类型设置
  - 第一个数字`2` - 机器人的主要类型为UGV Rover（1=RaspRover，3=UGV Beast）
  - 第二个数字`0` - 无扩展模块（1=RoArm-M2系列机械臂，2=Camera PT）

## 🌐 Web端控制

### 连接WiFi

**AP模式连接（默认）**：

| 参数 | 值 |
|------|-----|
| WiFi名称 | UGV |
| WiFi密码 | 12345678 |

**连接步骤**：
1. 打开手机或电脑的WiFi设置
2. 查找名为"UGV"的WiFi热点
3. 选择并连接该WiFi
4. 输入密码：12345678
5. 等待连接成功

### 打开Web控制界面

**访问步骤**：
1. 连接WiFi成功后
2. 打开谷歌浏览器（或基于Chromium内核的浏览器）
3. 在地址栏输入：`192.168.4.1`
4. 按回车键，等待加载
5. Web端控制界面将自动打开

### Web端界面功能

#### 实时信息显示

**显示内容**：
- 机器人电压（VOLTAGE）
- STA模式下的WiFi信号强度（RSSI）
- IP地址
- MAC地址

#### 方向控制按键

**控制按键**：
```
    ↑ 前进
← 左  下  右 右
    ↓ 后退
```

**速度选择**：
- **SLOW** - 慢速
- **MIDDLE** - 中速
- **FAST** - 快速

#### 扩展模块控制

**当外接扩展模块时**：
- **摄像头云台**：
  - UP、LEFT、RIGHT、DOWN - 控制云台转动
  - IO4、IO5、OFF - 控制LED灯的开关

#### JSON指令输入

**FEEDBACK INFORMATION窗口**：
- 可以给机器人发送JSON指令
- 下方显示具体的JSON指令列表
- 点击指令可自动填入输入窗口

**指令发送步骤**：
1. 在JSON指令列表中找到需要的指令
2. 点击指令下方的INPUT按钮
3. 指令会自动填写在JSON指令输入窗口中
4. 点击SEND发送指令
5. 等待机器人执行并反馈结果

#### 心跳检测

**功能说明**：
- Web端应用包含"心跳检测"功能
- 打开网页端控制界面后，与机器人进行连续通信
- 如果机器人在运动过程中断开连接
- 机器人会在短时间内自动停止运动
- 避免危险情况发生

**安全保障**：
- 防止控制中断导致机器人失控
- 提供安全保护机制
- 适合远程控制场景

#### 自定义界面

**开源特性**：
- Web端应用完全开源
- 可以通过更改开源程序中的`WebPage.h`
- 修改Web端应用的界面和功能
- 满足个性化需求

## 📡 JSON指令使用

### JSON简介

JSON（JavaScript Object Notation）是一种轻量级的数据交换格式：

- ✅ 易于人阅读和编写
- ✅ 可以在多种语言之间进行数据交换
- ✅ 易于机器解析和生成
- ✅ 支持复杂数据结构

### 为什么使用JSON指令？

由于机器人驱动板的板载资源比较多、例程功能丰富、同时兼顾方便扩展上位机，所以使用JSON指令通信具有以下优势：

- **统一接口** - 所有功能通过JSON格式统一管理
- **易于扩展** - 方便添加新功能和新指令
- **语言无关** - 支持Python、C++、JavaScript等多种语言
- **灵活通信** - 支持多种通信方式
- **二次开发** - 便于基于现有框架进行二次开发

### 支持的通信方式

| 方式 | 特点 | 适用场景 |
|------|------|----------|
| **串口/USB** | 有线、稳定、低延迟 | 上位机直连、实时控制 |
| **HTTP** | 基于Web、易于使用 | 远程控制、Web界面 |
| **ESP-NOW** | 免连接、低延迟 | 多机协同、群组控制 |

### 心跳机制

机器人内置心跳函数：

- **超时停止** - 当3秒钟内没有新的移动控制指令下达，机器人会自动停止移动
- **安全保护** - 防止控制中断导致失控
- **持续控制** - 上位机需要定时重复下达移动指令来让机器人连续移动

### JSON指令示例

UGV02的JSON指令与UGV01相同，具体参考：[[UGV01 JSON指令集]]

**常用指令**：
```json
// 左右轮速度控制
{"T":1,"L":0.5,"R":0.5}

// 获取IMU数据
{"T":126}

// 获取底盘信息
{"T":130}

// OLED屏幕控制
{"T":3,"lineNum":0,"Text":"UGV02"}
```

## 🍓 树莓派上位机

### 安装步骤

#### 1. 硬件准备

- 树莓派4B或5
- USB摄像头（推荐IMX335 5MP USB Camera）
- 树莓派需要安装在底盘上

#### 2. 下载上位机程序

**下载链接**：
- ugv_rpi下载链接（从UGV02产品页面获取）

**安装步骤**：
```bash
cd ugv_rpi/

# 添加可执行权限
sudo chmod +x setup.sh
sudo chmod +x autorun.sh

# 国际用户
sudo ./setup.sh

# 国内用户
sudo ./setup.sh -i
```

#### 3. 配置开机自动运行

```bash
./autorun.sh
```

**注意**：
- 该指令不可以使用sudo运行

#### 4. 配置WiFi功能

```bash
cd ugv_rpi/AccessPopup/

# 安装AccessPopup
sudo chmod +x installconfig.sh
sudo ./installconfig.sh

# 输入1，安装AccessPopup
# 然后按任意键退出，输入9，回车，退出安装脚本
```

#### 5. 重启测试

```bash
sudo reboot
```

重启后，树莓派会自动运行产品上位机主程序。

## 🔗 相关资源

- [[UGV02学习项目]] - 当前学习项目
- [[UGV02产品介绍]] - 详细产品规格和特性
- [[UGV01与UGV02对比]] - 产品差异对比
- [[UGV01 JSON指令集]] - 完整指令参考（UGV02与UGV01指令相同）
- [[UGV01使用教程]] - 通信方式详解（UGV02与UGV01相同）

## 🌐 官方资源

- [UGV02产品页面](https://www.waveshare.net/wiki/UGV02)
- [Waveshare官网](https://www.waveshare.net/)

## 💡 使用建议

> [!tip] 首次使用
> 1. 检查电池安装（注意正负极）
> 2. 使用充电器首次激活UPS模块
> 3. 连接Web端测试基本功能
> 4. 更新固件到最新版本

> [!tip] 调试技巧
> 1. 使用OLED屏幕查看状态
> 2. 开启串口回声查看指令
> 3. 使用Web端JSON指令测试
> 4. 逐步增加功能复杂度

> [!warning] 安全注意
> - 电池接反禁止充电
> - 推荐使用4C放电倍率电池
> - 产品不防水、不防沙
> - 避免剧烈撞击
> - Web端断开会自动停止运动

---
**创建时间**: 2026-02-19
**最后更新**: 2026-02-19
**标签**: #para/resource/tech #技术/机器人 #技术/教程 #Waveshare
