---
title: æª”æ¡ˆæ“ä½œä¸å¼‚å¸¸è™•ç†
status: active
priority: high
tags: [resource/tech/programming/python, python/file-operations, python/error-handling]
aliases: [Pythonæª”æ¡ˆè™•ç†, Pythonå¼‚å¸¸è™•ç†]
created: 2026-02-01
---

# æª”æ¡ˆæ“ä½œä¸å¼‚å¸¸è™•ç†

> ğŸ¯ **å­¸ç¿’ç›®æ¨™**ï¼šæŒæ¡Pythonçš„æª”æ¡ˆI/Oæ“ä½œå’Œå¼‚å¸¸è™•ç†æ©Ÿåˆ¶ï¼Œèƒ½å¤ å®‰å…¨åœ°è¯»å†™æª”æ¡ˆã€è™•ç†é”™è¯¯æƒ…å†µã€‚

## ğŸ“š åŸºç¤æ¦‚å¿µ

### æª”æ¡ˆæ“ä½œä¸å¼‚å¸¸è™•ç†å…³ç³»
```mermaid
graph TB
    A[æª”æ¡ˆæ“ä½œä¸å¼‚å¸¸è™•ç†] --> B[æª”æ¡ˆI/Oæ“ä½œ]
    A --> C[å¼‚å¸¸è™•ç†æ©Ÿåˆ¶]
# ç®¡ç†
    
    B --> B1[æª”æ¡ˆè¯»å†™]
    B --> B2[è·¯å¾‘æ“ä½œ]
    B --> B3[æª”æ¡ˆç³»çµ±æ“ä½œ]
    
    C --> C1[å¼‚å¸¸ç±»å‹]
    C --> C2[å¼‚å¸¸æ•è·]
    C --> C3[å¼‚å¸¸æŠ›å‡º]
    
    D --> D1[withè¯­å¥]
# ç®¡ç†
# ç®¡ç†
```

## ğŸ“ æª”æ¡ˆæ“ä½œ

### æª”æ¡ˆè¯»å†™åŸºç¤

#### æª”æ¡ˆæ‰“é–‹ä¸é—œé–‰
```python
# åŸºæœ¬æª”æ¡ˆæ“ä½œ
file = open('example.txt', 'r', encoding='utf-8')
content = file.read()
file.close()

# æŸ¥çœ‹
file = open('example.txt', 'r')
print(file.name)      # æª”æ¡ˆå
print(file.mode)      # æ‰“é–‹æ¨¡å¼
print(file.closed)    # æ˜¯å¦é—œé–‰
file.close()
```

#### withè¯­å¥ï¼ˆæ¨èï¼‰
```python
# ä½¿ç”¨withè¯­å¥è‡ªå‹•è™•ç†æª”æ¡ˆé—œé–‰
with open('example.txt', 'r', encoding='utf-8') as file:
    content = file.read()
    # æª”æ¡ˆä¼šè‡ªå‹•é—œé–‰ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸

# ä¸€æ¬¡æ€§è®€å–æ•´ä¸ªæª”æ¡ˆ
with open('example.txt', 'r', encoding='utf-8') as file:
    content = file.read()
    print(content)

# é€è¡Œè®€å–
with open('example.txt', 'r', encoding='utf-8') as file:
    for line in file:
        print(line.strip())  # å»é™¤è¡Œå°¾æ¢è¡Œç¬¦
```

#### æª”æ¡ˆæ‰“é–‹æ¨¡å¼
```python
# æª”æ¡ˆæ‰“é–‹æ¨¡å¼åˆ—è¡¨
modes = {
    'r': 'åªè¯»æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰',
    'w': 'å¯«å…¥æ¨¡å¼ï¼ˆä¼šè¦†ç›–åŸæª”æ¡ˆï¼‰',
    'a': 'è¿½åŠ æ¨¡å¼',
    'r+': 'è¯»å†™æ¨¡å¼',
    'w+': 'è¯»å†™æ¨¡å¼ï¼ˆä¼šè¦†ç›–åŸæª”æ¡ˆï¼‰',
    'a+': 'è¯»å†™è¿½åŠ æ¨¡å¼',
    'b': 'äºŒè¿›åˆ¶æ¨¡å¼',
    't': 'æ–‡æœ¬æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰'
}

# äºŒè¿›åˆ¶æ¨¡å¼è¯»å†™
with open('image.jpg', 'rb') as file:
    binary_data = file.read()

with open('copy.jpg', 'wb') as file:
    file.write(binary_data)

# æ–‡æœ¬æ¨¡å¼è¯»å†™
with open('data.txt', 'w', encoding='utf-8') as file:
    file.write('Hello, Python!')
```

# æ–¹æ³•

# æ–¹æ³•
```python
# å¯«å…¥æª”æ¡ˆ
with open('output.txt', 'w', encoding='utf-8') as file:
    file.write('Hello, World!\n')
    file.write('Pythonç·¨ç¨‹\n')

# è®€å–æª”æ¡ˆçš„ä¸åŒæ–¹å¼
with open('output.txt', 'r', encoding='utf-8') as file:
    # read() - è®€å–æ•´ä¸ªæª”æ¡ˆ
    content = file.read()
    print("read():", repr(content))
    
with open('output.txt', 'r', encoding='utf-8') as file:
    # readline() - è®€å–ä¸€è¡Œ
    first_line = file.readline()
    print("readline():", first_line)
    
with open('output.txt', 'r', encoding='utf-8') as file:
    # readlines() - è®€å–æ‰€æœ‰è¡Œåˆ°åˆ—è¡¨
    lines = file.readlines()
    print("readlines():", lines)
    
with open('output.txt', 'r', encoding='utf-8') as file:
    # é€è¡Œè®€å–ï¼ˆæ¨èï¼‰
    for line in file:
        print(line.strip())
```

#### å¤§æª”æ¡ˆè™•ç†
```python
# åˆ†å—è®€å–å¤§æª”æ¡ˆ
def read_large_file(file_path, chunk_size=1024):
    """åˆ†å—è®€å–å¤§æª”æ¡ˆ"""
    with open(file_path, 'r', encoding='utf-8') as file:
        while True:
            chunk = file.read(chunk_size)
            if not chunk:
                break
            yield chunk

# ä½¿ç”¨ç¤ºä¾‹
for chunk in read_large_file('large_file.txt'):
    print(len(chunk))  # è™•ç†æ¯ä¸ªæ•¸æ“šå—

# ä½¿ç”¨ç”Ÿæˆå™¨é€è¡Œè™•ç†
def process_lines(file_path):
    """é€è¡Œè™•ç†æª”æ¡ˆ"""
    with open(file_path, 'r', encoding='utf-8') as file:
        for line_num, line in enumerate(file, 1):
            yield line_num, line.strip()

# è™•ç†CSVæª”æ¡ˆ
def read_csv(file_path):
    """è®€å–CSVæª”æ¡ˆ"""
    with open(file_path, 'r', encoding='utf-8') as file:
        for line in file:
            # ç®€å•çš„CSVåˆ†å‰²
            fields = line.strip().split(',')
            yield fields

for fields in read_csv('data.csv'):
    print(fields)
```

### æª”æ¡ˆæŒ‡é’ˆæ“ä½œ

#### æª”æ¡ˆæŒ‡é’ˆåŸºç¤
```python
with open('example.txt', 'r', encoding='utf-8') as file:
    # tell() - è·å–å½“å‰æŒ‡é’ˆä½ç½®
    print(f"å½“å‰ä½ç½®: {file.tell()}")
    
    # read(5) - è®€å–5ä¸ªå­—ç¬¦
    print(file.read(5))
    print(f"å½“å‰ä½ç½®: {file.tell()}")
    
    # seek(offset, whence) - ç§»åŠ¨æª”æ¡ˆæŒ‡é’ˆ
    file.seek(0)  # å›åˆ°æª”æ¡ˆå¼€å¤´
    print(f"å½“å‰ä½ç½®: {file.tell()}")
    
    file.seek(10)  # è·³è½¬åˆ°ç¬¬10ä¸ªå­—ç¬¦
    print(file.read(5))
    
    # whenceå‚æ•°: 0=æª”æ¡ˆå¼€å¤´, 1=å½“å‰ä½ç½®, 2=æª”æ¡ˆæœ«å°¾
    file.seek(-5, 2)  # è·³è½¬åˆ°æª”æ¡ˆæœ«å°¾å‰5ä¸ªå­—ç¬¦
    print(file.read())
```

### æª”æ¡ˆç¼–ç 

#### ç¼–ç è™•ç†
```python
# ä¸åŒç¼–ç å¯«å…¥æª”æ¡ˆ
text = "Hello, ä¸–ç•Œï¼"

# UTF-8ç¼–ç 
with open('utf8.txt', 'w', encoding='utf-8') as file:
    file.write(text)

# GBKç¼–ç 
with open('gbk.txt', 'w', encoding='gbk') as file:
    file.write(text)

# è®€å–ä¸åŒç¼–ç çš„æª”æ¡ˆ
with open('utf8.txt', 'r', encoding='utf-8') as file:
    print(file.read())  # æ­£ç¡®è®€å–

# é”™è¯¯çš„ç¼–ç ä¼šå¯¼è‡´å¼‚å¸¸
try:
    with open('utf8.txt', 'r', encoding='gbk') as file:
        print(file.read())  # å¯èƒ½å‡ºé”™
except UnicodeDecodeError as e:
    print(f"ç¼–ç é”™è¯¯: {e}")
```

### è·¯å¾‘æ“ä½œ

#### os.pathæ¨¡å—
```python
import os

# è·¯å¾‘æ‹¼æ¥
file_path = os.path.join('folder', 'subfolder', 'file.txt')
print(file_path)  # folder/subfolder/file.txt

# è·¯å¾‘åˆ†å‰²
print(os.path.split(file_path))  # ('folder/subfolder', 'file.txt')

# æª”æ¡ˆæ“´å±•å
print(os.path.splitext('file.txt'))  # ('file', '.txt')

# ç»å¯¹è·¯å¾‘
print(os.path.abspath('file.txt'))

# è·¯å¾‘è³‡è¨Š
print(os.path.exists('file.txt'))   # æª”æ¡ˆæ˜¯å¦å­˜åœ¨
print(os.path.isfile('file.txt'))   # æ˜¯å¦ä¸ºæª”æ¡ˆ
print(os.path.isdir('folder'))      # æ˜¯å¦ä¸ºç›®éŒ„
print(os.path.getsize('file.txt'))  # æª”æ¡ˆå¤§å°

# å½“å‰å·¥ä½œç›®éŒ„
print(os.getcwd())  # å½“å‰ç›®éŒ„

# å‰µå»ºç›®éŒ„
os.makedirs('new_folder/subfolder', exist_ok=True)
```

#### pathlibæ¨¡å—ï¼ˆæ¨èï¼‰
```python
from pathlib import Path

# è·¯å¾‘æ“ä½œ
path = Path('folder/subfolder/file.txt')
print(path.name)      # æª”æ¡ˆå
print(path.stem)      # æª”æ¡ˆåï¼ˆç„¡æ“´å±•åï¼‰
print(path.suffix)    # æ“´å±•å
print(path.parent)    # çˆ¶ç›®éŒ„

# è·¯å¾‘æ‹¼æ¥
new_path = path.parent / 'new_file.txt'

# è·¯å¾‘æª¢æŸ¥
print(path.exists())
print(path.is_file())
print(path.is_dir())

# å‰µå»ºç›®éŒ„
Path('new_folder').mkdir(exist_ok=True)

# è¯»å†™æª”æ¡ˆ
content = path.read_text(encoding='utf-8')
path.write_text('Hello', encoding='utf-8')

# éå†ç›®éŒ„
for file in Path('folder').iterdir():
    print(file.name)
```

### æª”æ¡ˆç³»çµ±æ“ä½œ

#### ç›®éŒ„æ“ä½œ
```python
import os
import shutil

# å‰µå»ºç›®éŒ„
os.mkdir('new_folder')  # å‰µå»ºå•å±‚ç›®éŒ„
os.makedirs('a/b/c', exist_ok=True)  # å‰µå»ºå¤šå±‚ç›®éŒ„

# åˆªé™¤ç›®éŒ„
os.rmdir('empty_folder')  # åˆªé™¤ç©ºç›®éŒ„
shutil.rmtree('folder')  # åˆªé™¤æ•´ä¸ªç›®éŒ„æ ‘

# é‡å‘½åæª”æ¡ˆ
os.rename('old_name.txt', 'new_name.txt')

# ç§»åŠ¨æª”æ¡ˆ
shutil.move('file.txt', 'new_location/file.txt')

# è¤‡è£½æª”æ¡ˆ
shutil.copy2('source.txt', 'dest.txt')  # ä¿ç•™å…ƒæ•¸æ“š
shutil.copyfile('source.txt', 'dest.txt')  # åªè¤‡è£½å…§å®¹
```

#### æª”æ¡ˆæœå°‹
```python
import glob

# ä½¿ç”¨globå°‹æ‰¾æª”æ¡ˆ
txt_files = glob.glob('*.txt')
print(txt_files)  # ['file1.txt', 'file2.txt', ...]

# é€’å½’æœå°‹
all_py_files = glob.glob('**/*.py', recursive=True)
print(all_py_files)

# ä½¿ç”¨pathlibé€’å½’å°‹æ‰¾
from pathlib import Path
for file in Path('.').rglob('*.py'):
    print(file)
```

## âš ï¸ å¼‚å¸¸è™•ç†

### å¼‚å¸¸åŸºç¤

#### å¼‚å¸¸ç±»å‹
```python
# å¸¸è§å¼‚å¸¸ç±»å‹
common_exceptions = {
    'Exception': 'æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»',
    'ValueError': 'å€¼ä¸åˆé€‚',
    'TypeError': 'ç±»å‹ä¸åŒ¹é…',
    'IndexError': 'ç´¢å¼•è¶…å‡ºèŒƒå›´',
    'KeyError': 'å­—å…¸é”®ä¸å­˜åœ¨',
    'FileNotFoundError': 'æª”æ¡ˆæœªæ‰¾åˆ°',
    'PermissionError': 'æƒé™ä¸è¶³',
    'ZeroDivisionError': 'é™¤æ•°ä¸ºé›¶',
    'AttributeError': 'å±æ€§ä¸å­˜åœ¨',
    'ImportError': 'æ¨¡å—å¯¼å…¥å¤±è´¥'
}

# å¼‚å¸¸ç¤ºä¾‹
try:
    x = int("abc")  # ValueError
except ValueError as e:
    print(f"å€¼é”™è¯¯: {e}")

try:
    numbers = [1, 2, 3]
    print(numbers[10])  # IndexError
except IndexError as e:
    print(f"ç´¢å¼•é”™è¯¯: {e}")

try:
    data = {'name': 'Alice'}
    print(data['age'])  # KeyError
except KeyError as e:
    print(f"é”®é”™è¯¯: {e}")
```

#### å¼‚å¸¸æ•è·
```python
# åŸºæœ¬å¼‚å¸¸æ•è·
try:
    result = 10 / 0
except ZeroDivisionError:
    print("é™¤æ•°ä¸èƒ½ä¸ºé›¶")

# æ•è·å¤šå€‹å¼‚å¸¸
try:
    file = open('nonexistent.txt', 'r')
except FileNotFoundError:
    print("æª”æ¡ˆæœªæ‰¾åˆ°")
except PermissionError:
    print("æƒé™ä¸è¶³")
except Exception as e:
    print(f"å…¶ä»–é”™è¯¯: {e}")

# æ•è·æ‰€æœ‰å¼‚å¸¸ï¼ˆä¸æ¨èï¼‰
try:
    x = int("abc")
except Exception as e:
    print(f"å‘ç”Ÿé”™è¯¯: {e}")
```

#### å¼‚å¸¸è™•ç†ç»“æ„
```python
# å®Œæ•´çš„å¼‚å¸¸è™•ç†ç»“æ„
try:
    # å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„ä»£ç¢¼
    result = 10 / int(input("è¯·è¼¸å…¥é™¤æ•°: "))
except ZeroDivisionError:
    # è™•ç†ç‰¹å®šå¼‚å¸¸
    print("é™¤æ•°ä¸èƒ½ä¸ºé›¶")
except ValueError:
    # è™•ç†å¦ä¸€ä¸ªå¼‚å¸¸
    print("è¯·è¼¸å…¥æœ‰æ•ˆçš„æ•°å­—")
else:
    # æ²¡æœ‰å¼‚å¸¸æ—¶æ‰§è¡Œ
    print(f"çµæœ: {result}")
finally:
    # ç„¡è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ
    print("ç¨‹å¼æ‰§è¡Œå®Œæ¯•")

# å®é™…ç¤ºä¾‹
def read_file_safely(file_path):
    """å®‰å…¨è®€å–æª”æ¡ˆ"""
    try:
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        return content
    except FileNotFoundError:
        print(f"é”™è¯¯: æª”æ¡ˆ {file_path} æœªæ‰¾åˆ°")
        return None
    except PermissionError:
        print(f"é”™è¯¯: æ²¡æœ‰æƒé™è®€å–æª”æ¡ˆ {file_path}")
        return None
    except Exception as e:
        print(f"æœªçŸ¥é”™è¯¯: {e}")
        return None
    finally:
        print("æª”æ¡ˆè®€å–æ“ä½œå®Œæˆ")
```

### è‡ªå®šä¹‰å¼‚å¸¸

#### å®šä¹‰å¼‚å¸¸ç±»
```python
# è‡ªå®šä¹‰å¼‚å¸¸ç±»
class CustomError(Exception):
    """è‡ªå®šä¹‰å¼‚å¸¸"""
    def __init__(self, message):
        self.message = message
        super().__init__(self.message)

class ValueTooSmallError(Exception):
    """å€¼å¤ªå°å¼‚å¸¸"""
    def __init__(self, value, minimum):
        self.value = value
        self.minimum = minimum
        super().__init__(f"å€¼ {value} å°äºæœ€å°å€¼ {minimum}")

# ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸
def validate_value(value, minimum):
    """é©—è­‰å€¼"""
    if value < minimum:
        raise ValueTooSmallError(value, minimum)
    return value

# æ¸¬è©¦è‡ªå®šä¹‰å¼‚å¸¸
try:
    validate_value(5, 10)
except ValueTooSmallError as e:
    print(f"é©—è­‰å¤±è´¥: {e}")
```

#### å¼‚å¸¸é“¾
```python
# å¼‚å¸¸é“¾ï¼šä¿æŒåŸå§‹å¼‚å¸¸è³‡è¨Š
def process_data(data):
    """è™•ç†æ•¸æ“š"""
    try:
        result = int(data)
        return result * 2
    except ValueError as e:
        # ä½¿ç”¨raise fromä¿ç•™åŸå§‹å¼‚å¸¸
        raise ValueError(f"æ•¸æ“šè™•ç†å¤±è´¥: {data}") from e

def main():
    """ä¸»å‡½æ•°"""
    try:
        result = process_data("abc")
    except ValueError as e:
        print(f"å‘ç”Ÿé”™è¯¯: {e}")
        print(f"åŸå§‹å¼‚å¸¸: {e.__cause__}")

main()
```

### å¼‚å¸¸è™•ç†æœ€ä½³å¯¦è¸

#### å…·ä½“å¼‚å¸¸æ•è·
```python
# âŒ ä¸å¥½çš„åšæ³•ï¼šæ•è·è¿‡äºå®½æ³›
def bad_function():
    try:
        result = int(input("è¯·è¼¸å…¥æ•°å­—: "))
        return result * 2
    except Exception:  # å¤ªå®½æ³›
        print("å‘ç”Ÿé”™è¯¯")
        return None

# âœ… å¥½çš„åšæ³•ï¼šæ•è·å…·ä½“å¼‚å¸¸
def good_function():
    try:
        result = int(input("è¯·è¼¸å…¥æ•°å­—: "))
        return result * 2
    except ValueError:
        print("è¯·è¼¸å…¥æœ‰æ•ˆçš„æ•°å­—")
        return None
    except KeyboardInterrupt:
        print("ä½¿ç”¨è€…ä¸­æ–­")
        return None
```

#### é€‚å½“çš„å¼‚å¸¸è™•ç†
```python
# âŒ ä¸å¥½çš„åšæ³•ï¼šå¿½ç•¥å¼‚å¸¸
def bad_read_file(filename):
    try:
        with open(filename) as f:
            return f.read()
    except:
        pass  # å¿½ç•¥æ‰€æœ‰å¼‚å¸¸

# âœ… å¥½çš„åšæ³•ï¼šé€‚å½“çš„å¼‚å¸¸è™•ç†
def good_read_file(filename):
    try:
        with open(filename, 'r', encoding='utf-8') as f:
            return f.read()
    except FileNotFoundError:
        print(f"æª”æ¡ˆ {filename} ä¸å­˜åœ¨")
        return ""
    except PermissionError:
        print(f"æ²¡æœ‰æƒé™è®€å–æª”æ¡ˆ {filename}")
        return ""
    except Exception as e:
        print(f"è®€å–æª”æ¡ˆæ—¶å‘ç”Ÿé”™è¯¯: {e}")
        return ""
```

# ç®¡ç†

### withè¯­å¥

#### åŸºæœ¬withè¯­å¥
```python
# æª”æ¡ˆæ“ä½œä½¿ç”¨withè¯­å¥
with open('example.txt', 'r', encoding='utf-8') as file:
    content = file.read()
# æª”æ¡ˆè‡ªå‹•é—œé–‰

# å¤šå€‹æª”æ¡ˆ
with open('file1.txt', 'r') as f1, open('file2.txt', 'w') as f2:
    content = f1.read()
    f2.write(content)

# ç®¡ç†
class Timer:
# ç®¡ç†
    def __enter__(self):
        self.start = time.time()
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        self.end = time.time()
        self.elapsed = self.end - self.start
        print(f"æ‰§è¡Œæ™‚é–“: {self.elapsed:.4f}ç§’")
        return False  # Falseè¡¨ç¤ºä¸è™•ç†å¼‚å¸¸

import time
with Timer():
    time.sleep(1)
    print("æ‰§è¡Œä¸­...")
```

# ç®¡ç†
```python
from contextlib import contextmanager

# ç®¡ç†
@contextmanager
def file_writer(filename):
# ç®¡ç†
    file = open(filename, 'w')
    try:
        yield file
    finally:
        file.close()

# ç®¡ç†
with file_writer('output.txt') as f:
    f.write('Hello, World!')
# æª”æ¡ˆè‡ªå‹•é—œé–‰

# ç®¡ç†
class Resource:
    """è³‡æºç±»"""
    def __init__(self, name):
        self.name = name
        print(f"å‰µå»ºè³‡æº: {name}")
    
    def __enter__(self):
        print(f"è·å–è³‡æº: {self.name}")
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print(f"é‡Šæ”¾è³‡æº: {self.name}")
        if exc_type:
            print(f"å‘ç”Ÿå¼‚å¸¸: {exc_val}")
        return False

# ç®¡ç†
with Resource("Database Connection"):
    print("ä½¿ç”¨è³‡æº...")
    # å³ä½¿å‘ç”Ÿå¼‚å¸¸ï¼Œè³‡æºä¹Ÿä¼šè¢«æ­£ç¡®é‡Šæ”¾
```

## ğŸ¯ å®æˆ˜ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šæª”æ¡ˆå‚™ä»½å·¥å…·
```python
import os
import shutil
from datetime import datetime

def backup_files(source_dir, backup_dir):
    """å‚™ä»½æª”æ¡ˆ"""
    try:
        # å‰µå»ºå‚™ä»½ç›®éŒ„
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        backup_path = os.path.join(backup_dir, f'backup_{timestamp}')
        os.makedirs(backup_path, exist_ok=True)
        
        # è¤‡è£½æª”æ¡ˆ
        for filename in os.listdir(source_dir):
            source_file = os.path.join(source_dir, filename)
            dest_file = os.path.join(backup_path, filename)
            
            if os.path.isfile(source_file):
                shutil.copy2(source_file, dest_file)
                print(f"å‚™ä»½: {filename}")
        
        print(f"å‚™ä»½å®Œæˆ: {backup_path}")
        return True
        
    except Exception as e:
        print(f"å‚™ä»½å¤±è´¥: {e}")
        return False

# ä½¿ç”¨ç¤ºä¾‹
backup_files('data', 'backups')
```

# åˆ†æ
```python
import re
from pathlib import Path

def analyze_log_file(log_path):
# åˆ†æ
    try:
        # æ—¥å¿—çµ±è¨ˆ
        error_count = 0
        warning_count = 0
        error_messages = []
        
        # æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
        error_pattern = re.compile(r'ERROR: (.*)')
        warning_pattern = re.compile(r'WARNING: (.*)')
        
        # è®€å–æ—¥å¿—æª”æ¡ˆ
        with open(log_path, 'r', encoding='utf-8') as file:
            for line in file:
                # åŒ¹é…é”™è¯¯
                error_match = error_pattern.search(line)
                if error_match:
                    error_count += 1
                    error_messages.append(error_match.group(1))
                
                # åŒ¹é…è­¦å‘Š
                warning_match = warning_pattern.search(line)
                if warning_match:
                    warning_count += 1
        
# åˆ†æ
        return {
            'errors': error_count,
            'warnings': warning_count,
            'error_messages': error_messages[:10]  # åªè¿”å›å‰10ä¸ªé”™è¯¯
        }
        
    except FileNotFoundError:
        print(f"æ—¥å¿—æª”æ¡ˆä¸å­˜åœ¨: {log_path}")
        return None
    except Exception as e:
# åˆ†æ
        return None

# ä½¿ç”¨ç¤ºä¾‹
result = analyze_log_file('app.log')
if result:
    print(f"é”™è¯¯æ•°: {result['errors']}")
    print(f"è­¦å‘Šæ•°: {result['warnings']}")
    print("æœ€è¿‘é”™è¯¯:")
    for msg in result['error_messages']:
        print(f"  - {msg}")
```

# é…ç½®
```python
import configparser
from pathlib import Path

def read_config_file(config_path):
# é…ç½®
    try:
        config = configparser.ConfigParser()
        
        # æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨
        if not Path(config_path).exists():
# é…ç½®
        
# é…ç½®
        config.read(config_path, encoding='utf-8')
        
# é…ç½®
        parsed_config = {}
        for section in config.sections():
            parsed_config[section] = dict(config[section])
        
        return parsed_config
        
    except FileNotFoundError as e:
        print(e)
        return None
    except configparser.Error as e:
# é…ç½®
        return None
    except Exception as e:
# é…ç½®
        return None

def write_config_file(config_path, config_dict):
# é…ç½®
    try:
        config = configparser.ConfigParser()
        
# é…ç½®
        for section, options in config_dict.items():
            config[section] = options
        
        # å¯«å…¥æª”æ¡ˆ
        with open(config_path, 'w', encoding='utf-8') as file:
            config.write(file)
        
# é…ç½®
        return True
        
    except Exception as e:
# é…ç½®
        return False

# ä½¿ç”¨ç¤ºä¾‹
config = {
    'database': {
        'host': 'localhost',
        'port': '5432',
        'name': 'mydb'
    },
    'logging': {
        'level': 'INFO',
        'file': 'app.log'
    }
}

write_config_file('config.ini', config)
parsed = read_config_file('config.ini')
print(parsed)
```

## ğŸ’¡ æœ€ä½³å¯¦è¸

### æª”æ¡ˆæ“ä½œå»ºè­°
- âœ… **ä½¿ç”¨withè¯­å¥**ï¼šè‡ªå‹•è™•ç†æª”æ¡ˆé—œé–‰
- âœ… **æŒ‡å®šç¼–ç **ï¼šæ˜ç¡®æŒ‡å®šæª”æ¡ˆç¼–ç ï¼ˆutf-8ï¼‰
- âœ… **è™•ç†å¤§æª”æ¡ˆ**ï¼šä½¿ç”¨ç”Ÿæˆå™¨é€è¡Œæˆ–åˆ†å—è™•ç†
- âŒ **å¿˜è®°é—œé–‰æª”æ¡ˆ**ï¼šé¿å…è³‡æºæ³„æ¼

### å¼‚å¸¸è™•ç†å»ºè­°
- âœ… **æ•è·å…·ä½“å¼‚å¸¸**ï¼šä¸è¦æ•è·è¿‡äºå®½æ³›çš„å¼‚å¸¸
- âœ… **é€‚å½“çš„å¼‚å¸¸è™•ç†**ï¼šæœ‰æ„ä¹‰çš„é”™è¯¯è¨Šæ¯å’Œæ¢å¾©ç­–ç•¥
- âœ… **ä½¿ç”¨finally**ï¼šç¡®ä¿è³‡æºé‡Šæ”¾
- âŒ **å¿½ç•¥å¼‚å¸¸**ï¼šä¸è¦ç©ºexceptå—

### æ•ˆèƒ½å„ªåŒ–
- âœ… **æ‰¹é‡æ“ä½œ**ï¼šå‡å°‘I/Oæ“ä½œæ¬¡æ•°
- âœ… **ç¼“å†²åŒºè¨­ç½®**ï¼šé€‚å½“è°ƒæ•´è¯»å†™ç¼“å†²åŒº
- âœ… **ä½¿ç”¨ç”Ÿæˆå™¨**ï¼šè™•ç†å¤§æª”æ¡ˆæ—¶ç¯€çœè¨˜æ†¶é«”

## ğŸ”— ç›¸é—œè³‡æº

- [[åŸºç¤è¯­æ³•ä¸æ•¸æ“šç±»å‹]] - åŸºç¤æ•¸æ“šç»“æ„
- [[æ§åˆ¶æµä¸å‡½æ•°]] - æµç¨‹æ§åˆ¶
# ç®¡ç†
# ç®¡ç†

---
*å‰µå»ºæ™‚é–“: 2026-02-01*  
*åˆ†é¡: 3 Resources*
