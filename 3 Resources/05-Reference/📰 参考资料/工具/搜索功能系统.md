---
title: 搜尋功能
aliases:
  - Search
tags:
  - search
  - quick-action
---

> [!note] 搜尋功能 / Search Functionality
> InBox 和 PARA 內容的全局搜尋和篩選功能

# 配置
---
```dataview
TABLE WITHOUT ID
  search_type as "搜尋类型",
  enabled as "启用"
FROM ""
WHERE contains(tags, "search-config")
SORT file.mtime DESC
```

| 搜尋类型 | 說明 | 默认 |
|------|----------|--------|
| 全局搜尋 | 搜尋所有內容 | 启用 |
| 檔案类型篩選 | 按类型篩選（待辦/連結/素材） | 启用 |
| 標籤篩選 | 按標籤篩選內容 | 启用 |
| 優先級篩選 | 按優先級篩選 | 启用 |

---

## 搜尋功能實現 / Search Implementation
---

### 全局搜尋

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "標籤",
  file.folder as "位置",
  search_query as "搜尋匹配"
FROM ""
WHERE (search_type = "global" AND enabled = "true") OR !search_type
SORT file.mtime DESC
LIMIT 100
```

### 实时搜尋

使用 Templater 實現实时搜尋：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  match_count as "匹配数"
FROM ""
WHERE search_query != ""
SORT file.mtime DESC
LIMIT 50
```

### 搜尋歷史

儲存最近搜尋關鍵词到 search_query 字段。

---

> [!info] 搜尋方式
> - 全局：搜尋所有 tagged 內容
> - 实时：使用 `contains()` 匹配檔案內容
> - 高级：支持正则表达式

使用以下 Dataview 查詢實現全局搜尋：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "標籤",
  file.folder as "位置"
FROM ""
WHERE (search_type = "global" AND enabled = "true") OR !search_type
SORT file.mtime DESC
LIMIT 50
```

### 檔案类型篩選

按 InBox 子資料夾篩選內容：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  type as "类型"
FROM ""
WHERE file.path = "0 Personals/📥 00_InBox/0-待辦"
OR file.path = "0 Personals/📥 00_InBox/1-連結"
OR file.path = "0 Personals/📥 00_InBox/2-素材"
```

### 標籤篩選

按 PARA 分類標籤篩選：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "標籤"
FROM ""
WHERE contains(tags, "#para-projects")
OR contains(tags, "#para-areas")
OR contains(tags, "#para-resources")
```

### 高级搜尋

支持正则表达式和模糊匹配：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  content as "內容"
FROM ""
WHERE search_query != ""
SORT file.mtime DESC
```

---

# 方法
---

### 搜尋操作

```
/搜尋: 關鍵词
/篩選: #標籤 #待辦
/高级: 正则模式
```

### 搜尋命令實現

```dataview
TABLE WITHOUT ID
  command as "命令",
  description as "說明"
FROM ""
WHERE contains(tags, "search-command")
SORT file.mtime DESC
```

| 命令 | 說明 | 用途 |
|------|------|---------|
| /搜尋 | 执行全局搜尋 | 尋找 InBox 和 PARA 內容 |
| /篩選 | 按標籤/类型篩選 | 精确搜尋范围 |
| /重置 | 清除搜尋条件 | 重置所有篩選条件 |

---

> [!tip] 搜尋優化
> - 使用 Dataview WHERE 条件组合實現复杂篩選
# 排序
> - 支持儲存常用搜尋条件
