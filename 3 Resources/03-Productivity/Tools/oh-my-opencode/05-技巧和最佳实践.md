---
title: oh-my-opencode 技巧和最佳实践
tags: [tool, ai, productivity, opencode, oh-my-opencode, tips]
created: 2026-02-16
updated: 2026-02-16
---

# oh-my-opencode 技巧和最佳实践

> 高效使用 oh-my-opencode 的技巧和最佳实践。

---

## 🚀 效率技巧

### 1. 任务标记

使用关键字标记任务类型：

| 标记 | 功能 | 示例 |
|------|------|------|
| `ultrawork` / `ulw` | 多代理并行 | `ulw 重构整个前端` |
| `quick` | 快速处理 | `quick 修复这个 bug` |
| `ultrabrain` | 深度思考 | `ultrabrain 设计系统架构` |

### 2. 多代理协作

```
ultrawork 同时进行：
1. 代码审查
2. 文档更新
3. 测试编写
```

### 3. 后台任务

使用后台任务不中断主流程：

```
在后台运行测试
继续编写新功能
```

---

## 📝 提示技巧

### 1. 明确任务描述

❌ 不要：
```
修复这个问题
```

✅ 应该：
```
修复用户登录页面的 CSRF 错误，错误信息为 "Invalid token"
```

### 2. 分步指令

❌ 不要：
```
写一个完整的后端系统
```

✅ 应该：
```
1. 首先设计数据库 schema
2. 然后创建 API 路由
3. 最后编写业务逻辑
```

### 3. 上下文提供

```
项目背景：
- 使用 React + Node.js
- 使用 PostgreSQL 数据库
- 现有用户认证系统

任务：
添加双因素认证功能
```

---

## ⚙️ 配置技巧

### 1. 代理自动选择

根据任务复杂度自动选择代理：

```json
{
  "categories": {
    "quick": {
      "model": "anthropic/claude-haiku-4-5"
    },
    "ultrabrain": {
      "model": "anthropic/claude-opus-4-6",
      "variant": "max"
    }
  }
}
```

### 2. 目录特定配置

为不同目录设置不同配置：

```json
{
  "directoryConfig": {
    "projects/web-app": {
      "agent": "librarian"
    },
    "projects/backend": {
      "agent": "sisyphus"
    }
  }
}
```

### 3. Hooks 优化

启用必要的 Hooks：

```json
{
  "hooks": {
    "enabled": [
      "todo-continuation-enforcer",
      "session-recovery",
      "context-window-monitor",
      "directory-readme-injector"
    ]
  }
}
```

---

## 🔄 工作流

### 1. 日常开发

```
早上：
1. quick 查看今日任务
2. 使用 Sisyphus 规划一天

工作中：
1. 使用 ultrawork 并行处理
2. 定期让代码审查

下班前：
1. 提交代码
2. 写明日计划
```

### 2. 复杂任务

```
1. 使用 ultrabrain 深度分析
2. Sisyphus 分解任务
3. 多代理并行执行
4. 定期检查进度
5. 合并结果
```

### 3. 代码探索

```
1. 使用 Explore 理解代码库
2. 使用 Librarian 查找文档
3. 使用 Oracle 解答疑问
```

---

## 📊 性能优化

### 1. 减少上下文

- 只提供必要的上下文
- 使用文件路径而非内容
- 定期清理对话历史

### 2. 工具输出管理

使用 Hooks 截断大型输出：

```json
{
  "hooks": {
    "enabled": ["grep-output-truncator", "tool-output-truncator"]
  }
}
```

### 3. 模型选择

| 任务类型 | 推荐模型 |
|----------|----------|
| 简单查询 | Haiku |
| 常规开发 | Sonnet |
| 复杂任务 | Opus (max) |

---

## 🎯 最佳实践

### 1. 任务分解

- 大任务分解为小步骤
- 每个步骤独立验证
- 定期检查进度

### 2. 持续学习

- 记录常用模式
- 建立团队知识库
- 分享最佳实践

### 3. 错误处理

- 使用 session-recovery 自动恢复
- 定期保存进度
- 保持日志审查

---

## 🔧 调试技巧

### 1. 查看代理状态

```bash
opencode status
```

### 2. 检查配置

```bash
opencode config validate
```

### 3. 查看日志

```bash
opencode logs
```

---

## 📚 下一步

- 阅读 [[06-故障排除]] 解决问题
- 实践这些技巧提高效率
