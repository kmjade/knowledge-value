---
title: 搜索功能
aliases:
  - Search
tags:
  - search
  - quick-action
---

> [!note] 搜索功能 / Search Functionality
> InBox 和 PARA 内容的全局搜索和筛选功能

## 搜索配置 / Search Configuration
---
```dataview
TABLE WITHOUT ID
  search_type as "搜索类型",
  enabled as "启用"
FROM ""
WHERE contains(tags, "search-config")
SORT file.mtime DESC
```

| 搜索类型 | 说明 | 默认 |
|------|----------|--------|
| 全局搜索 | 搜索所有内容 | 启用 |
| 文件类型筛选 | 按类型筛选（待办/链接/素材） | 启用 |
| 标签筛选 | 按标签筛选内容 | 启用 |
| 优先级筛选 | 按优先级筛选 | 启用 |

---

## 搜索功能实现 / Search Implementation
---

### 全局搜索

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "标签",
  file.folder as "位置",
  search_query as "搜索匹配"
FROM ""
WHERE (search_type = "global" AND enabled = "true") OR !search_type
SORT file.mtime DESC
LIMIT 100
```

### 实时搜索

使用 Templater 实现实时搜索：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  match_count as "匹配数"
FROM ""
WHERE search_query != ""
SORT file.mtime DESC
LIMIT 50
```

### 搜索历史

保存最近搜索关键词到 search_query 字段。

---

> [!info] 搜索方式
> - 全局：搜索所有 tagged 内容
> - 实时：使用 `contains()` 匹配文件内容
> - 高级：支持正则表达式

使用以下 Dataview 查询实现全局搜索：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "标签",
  file.folder as "位置"
FROM ""
WHERE (search_type = "global" AND enabled = "true") OR !search_type
SORT file.mtime DESC
LIMIT 50
```

### 文件类型筛选

按 InBox 子文件夹筛选内容：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  type as "类型"
FROM ""
WHERE file.path = "0 Personals/📥 00_InBox/0-待办"
OR file.path = "0 Personals/📥 00_InBox/1-链接"
OR file.path = "0 Personals/📥 00_InBox/2-素材"
```

### 标签筛选

按 PARA 分类标签筛选：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  tags as "标签"
FROM ""
WHERE contains(tags, "#para-projects")
OR contains(tags, "#para-areas")
OR contains(tags, "#para-resources")
```

### 高级搜索

支持正则表达式和模糊匹配：

```dataview
TABLE WITHOUT ID
  file.link as "标题",
  content as "内容"
FROM ""
WHERE search_query != ""
SORT file.mtime DESC
```

---

## 使用方法 / Usage
---

### 搜索操作

```
/搜索: 关键词
/筛选: #标签 #待办
/高级: 正则模式
```

### 搜索命令实现

```dataview
TABLE WITHOUT ID
  command as "命令",
  description as "说明"
FROM ""
WHERE contains(tags, "search-command")
SORT file.mtime DESC
```

| 命令 | 说明 | 用途 |
|------|------|---------|
| /搜索 | 执行全局搜索 | 查找 InBox 和 PARA 内容 |
| /筛选 | 按标签/类型筛选 | 精确搜索范围 |
| /重置 | 清除搜索条件 | 重置所有筛选条件 |

---

> [!tip] 搜索优化
> - 使用 Dataview WHERE 条件组合实现复杂筛选
> - 为搜索结果添加排序选项
> - 支持保存常用搜索条件
